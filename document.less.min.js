!function(){"use strict";function t(){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},e=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(e,function(e){return t[e]||e}):this}}function e(t,n,i){return("string"==typeof n?n:n.toString()).replace(t.define||o,function(e,n,r,o){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in i||(":"===r?(t.defineParams&&o.replace(t.defineParams,function(t,e,r){i[n]={arg:e,text:r}}),n in i||(i[n]=o)):new Function("def","def['"+n+"']="+o)(i)),""}).replace(t.use||o,function(n,r){t.useParams&&(r=r.replace(t.useParams,function(t,e,n,r){if(i[n]&&i[n].arg&&r){var o=(n+":"+r).replace(/'|\\/g,"_");return i.__exp=i.__exp||{},i.__exp[o]=i[n].text.replace(new RegExp("(^|[^\\w$])"+i[n].arg+"([^\\w$])","g"),"$1"+r+"$2"),e+"def.__exp['"+o+"']"}}));var o=new Function("def","return "+r)(i);return o?e(t,o,i):o})}function n(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var i={version:"1.0.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:0,append:!0,selfcontained:!1},template:void 0,compile:void 0};"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):(function(){return this||(0,eval)("this")}()).doT=i,String.prototype.encodeHTML=t();var r={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},o=/$^/;i.template=function(a,s,l){s=s||i.templateSettings;var c,d,u=s.append?r.append:r.split,p=0,h=s.use||s.define?e(s,a,l||{}):a;h=("var out='"+(s.strip?h.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):h).replace(/'|\\/g,"\\$&").replace(s.interpolate||o,function(t,e){return u.start+n(e)+u.end}).replace(s.encode||o,function(t,e){return c=!0,u.start+n(e)+u.endencode}).replace(s.conditional||o,function(t,e,i){return e?i?"';}else if("+n(i)+"){out+='":"';}else{out+='":i?"';if("+n(i)+"){out+='":"';}out+='"}).replace(s.iterate||o,function(t,e,i,r){return e?(p+=1,d=r||"i"+p,e=n(e),"';var arr"+p+"="+e+";if(arr"+p+"){var "+i+","+d+"=-1,l"+p+"=arr"+p+".length-1;while("+d+"<l"+p+"){"+i+"=arr"+p+"["+d+"+=1];out+='"):"';} } out+='"}).replace(s.evaluate||o,function(t,e){return"';"+n(e)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+="),c&&s.selfcontained&&(h="String.prototype.encodeHTML=("+t.toString()+"());"+h);try{return new Function(s.varname,h)}catch(f){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+h),f}},i.compile=function(t,e){return i.template(t,null,e)}}(),function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||c.defaults,this.rules=d.normal,this.options.gfm&&(this.rules=this.options.tables?d.tables:d.gfm)}function e(t,e){if(this.options=e||c.defaults,this.links=t,this.rules=u.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?u.breaks:u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function n(t){this.options=t||{}}function i(t){this.tokens=[],this.token=null,this.options=t||c.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(t){return t.replace(/&([#\w]+);/g,function(t,e){return e=e.toLowerCase(),"colon"===e?":":"#"===e.charAt(0)?String.fromCharCode("x"===e.charAt(1)?parseInt(e.substring(2),16):+e.substring(1)):""})}function a(t,e){return t=t.source,e=e||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(i,r),n):new RegExp(t,e)}}function s(){}function l(t){for(var e,n,i=1;i<arguments.length;i++){e=arguments[i];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}function c(e,n,o){if(o||"function"==typeof n){o||(o=n,n=null),n=l({},c.defaults,n||{});var a,s,d=n.highlight,u=0;try{a=t.lex(e,n)}catch(p){return o(p)}s=a.length;var h=function(){var t,e;try{t=i.parse(a,n)}catch(r){e=r}return n.highlight=d,e?o(e):o(null,t)};if(!d||d.length<3)return h();if(delete n.highlight,!s)return h();for(;u<a.length;u++)!function(t){return"code"!==t.type?--s||h():d(t.text,t.lang,function(e,n){return null==n||n===t.text?--s||h():(t.text=n,t.escaped=!0,void(--s||h()))})}(a[u])}else try{return n&&(n=l({},c.defaults,n)),i.parse(t.lex(e,n),n)}catch(p){if(p.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+r(p.message+"",!0)+"</pre>";throw p}}var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};d.bullet=/(?:[*+-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=a(d.item,"gm")(/bull/g,d.bullet)(),d.list=a(d.list)(/bull/g,d.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",d.html=a(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)(),d.paragraph=a(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)(),d.normal=l({},d),d.gfm=l({},d.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),d.gfm.paragraph=a(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")(),d.tables=l({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=d,t.lex=function(e,n){var i=new t(n);return i.lex(e)},t.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},t.prototype.token=function(t,e){for(var n,i,r,o,a,s,l,c,u,t=t.replace(/^ +$/gm,"");t;)if((r=this.rules.newline.exec(t))&&(t=t.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(t))t=t.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});else if(r=this.rules.fences.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]});else if(r=this.rules.heading.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(e&&(r=this.rules.nptable.exec(t))){for(t=t.substring(r[0].length),s={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},c=0;c<s.align.length;c++)s.align[c]=/^ *-+: *$/.test(s.align[c])?"right":/^ *:-+: *$/.test(s.align[c])?"center":/^ *:-+ *$/.test(s.align[c])?"left":null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].split(/ *\| */);this.tokens.push(s)}else if(r=this.rules.lheading.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(r=this.rules.hr.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,e),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(t)){for(t=t.substring(r[0].length),o=r[2],this.tokens.push({type:"list_start",ordered:o.length>1}),r=r[0].match(this.rules.item),n=!1,u=r.length,c=0;u>c;c++)s=r[c],l=s.length,s=s.replace(/^ *([*+-]|\d+\.) +/,""),~s.indexOf("\n ")&&(l-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==u-1&&(a=d.bullet.exec(r[c+1])[0],o===a||o.length>1&&a.length>1||(t=r.slice(c+1).join("\n")+t,c=u-1)),i=n||/\n\n(?!\s*$)/.test(s),c!==u-1&&(n="\n"===s.charAt(s.length-1),i||(i=n)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(s,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(t))t=t.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]});else if(e&&(r=this.rules.def.exec(t)))t=t.substring(r[0].length),this.tokens.links[r[1].toLowerCase()]={href:r[2],title:r[3]};else if(e&&(r=this.rules.table.exec(t))){for(t=t.substring(r[0].length),s={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<s.align.length;c++)s.align[c]=/^ *-+: *$/.test(s.align[c])?"right":/^ *:-+: *$/.test(s.align[c])?"center":/^ *:-+ *$/.test(s.align[c])?"left":null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(s)}else if(e&&(r=this.rules.paragraph.exec(t)))t=t.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=a(u.link)("inside",u._inside)("href",u._href)(),u.reflink=a(u.reflink)("inside",u._inside)(),u.normal=l({},u),u.pedantic=l({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=l({},u.normal,{escape:a(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=l({},u.gfm,{br:a(u.br)("{2,}","*")(),text:a(u.gfm.text)("{2,}","*")()}),e.rules=u,e.output=function(t,n,i){var r=new e(n,i);return r.output(t)},e.prototype.output=function(t){for(var e,n,i,o,a="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),a+=o[1];else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),"@"===o[2]?(n=this.mangle(":"===o[1].charAt(6)?o[1].substring(7):o[1]),i=this.mangle("mailto:")+n):(n=r(o[1]),i=n),a+=this.renderer.link(i,null,n);else if(o=this.rules.url.exec(t))t=t.substring(o[0].length),n=r(o[1]),i=n,a+=this.renderer.link(i,null,n);else if(o=this.rules.tag.exec(t))t=t.substring(o[0].length),a+=this.options.sanitize?r(o[0]):o[0];else if(o=this.rules.link.exec(t))t=t.substring(o[0].length),a+=this.outputLink(o,{href:o[2],title:o[3]});else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),e=this.links[e.toLowerCase()],!e||!e.href){a+=o[0].charAt(0),t=o[0].substring(1)+t;continue}a+=this.outputLink(o,e)}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),a+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),a+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),a+=this.renderer.codespan(r(o[2],!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),a+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),a+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),a+=r(this.smartypants(o[0]));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return a},e.prototype.outputLink=function(t,e){var n=r(e.href),i=e.title?r(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,r(t[1]))},e.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},e.prototype.mangle=function(t){for(var e,n="",i=t.length,r=0;i>r;r++)e=t.charCodeAt(r),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},n.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+r(e,!0)+'">'+(n?t:r(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:r(t,!0))+"\n</code></pre>"},n.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},n.prototype.html=function(t){return t},n.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},n.prototype.hr=function(){return"<hr>\n"},n.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},n.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},n.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},n.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},n.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},n.prototype.tablecell=function(t,e){var n=e.header?"th":"td",i=e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">";return i+t+"</"+n+">\n"},n.prototype.strong=function(t){return"<strong>"+t+"</strong>"},n.prototype.em=function(t){return"<em>"+t+"</em>"},n.prototype.codespan=function(t){return"<code>"+t+"</code>"},n.prototype.br=function(){return"<br>"},n.prototype.del=function(t){return"<del>"+t+"</del>"},n.prototype.link=function(t,e,n){if(this.options.sanitize){try{var i=decodeURIComponent(o(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return""}if(0===i.indexOf("javascript:"))return""}var a='<a href="'+t+'"';return e&&(a+=' title="'+e+'"'),a+=">"+n+"</a>"},n.prototype.image=function(t,e,n){var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=">"},i.parse=function(t,e,n){var r=new i(e,n);return r.parse(t)},i.prototype.parse=function(t){this.inline=new e(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var n="";this.next();)n+=this.tok();return n},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,r,o="",a="";for(n="",t=0;t<this.token.header.length;t++)i={header:!0,align:this.token.align[t]},n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});a+=this.renderer.tablerow(n)}return this.renderer.table(o,a);case"blockquote_start":for(var a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":for(var a="",s=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,s);case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(var a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,c.options=c.setOptions=function(t){return l(c.defaults,t),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n},c.Parser=i,c.parser=i.parse,c.Renderer=n,c.Lexer=t,c.lexer=t.lex,c.InlineLexer=e,c.inlineLexer=e.output,c.parse=c,"object"==typeof exports?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):this.marked=c}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(){"use strict";function t(t,e,n){var i=t.events||(t.events={}),r=n?"#"+e:e,o=i[r];if(!o&&(i[r]=o=new g.Event(t,e,n),o.is_dom_event)){var a=t._element;a&&a.addEventListener(e,o.raise,n)}return o}function e(){this.state_id=Number.MIN_VALUE}function n(){}function i(t,e){var n=[];if(e){var i=e.$data;if(i)for(var r=0,o=i.length;o>r;r++)n[r]=i[r]}for(var a in O)O.hasOwnProperty(a)&&(n[a]=O[a]);for(var a in $)$.hasOwnProperty(a)&&(n[a]=$[a]);if(n.state_id=Number.MIN_VALUE,n.last_operation=0,n.last_changed=void 0,t&&t.adapter&&!(this.adapter=g.create(t.adapter)))throw new TypeError('Invalid data adapter type "'+t.adapter+'"!');return n}function r(t){if("function"==typeof t){t=t.toString();var e=t.indexOf("("),n=t.indexOf(")"),i=t.indexOf("{"),r=t.lastIndexOf("}");return t.slice(e+1,n)+"@"+t.substr(i+1,r-i-1)}return t}function o(t,e,n){var i=t.match(/\S+?(?=#|\/|`|\s|$|@)/);if(!i)return"";var r,i=i[0],o=i.indexOf(":");o>=0?(n.$name=i.substr(0,o),r=i.substr(o+1)):r=i,r?r.indexOf(".")<0&&(r="controls."+r):r="controls.container";for(var a=t.slice(i.length),s=0,l=a.length,c=!1,d=!1;l>s&&!d;)switch(a.charAt(s)){case" ":case"\n":case"	":s++;break;case"/":c=!0,s++;break;case"`":d=!0,s++;break;case"#":var u=/#.*?(?=#|`|\/|\s|$|@)/g;u.lastIndex=s;var p=u.exec(a)[0];n.id=p.slice(1),s+=p.length;break;default:var h=/\S+?(?=(=|#|`|\/|\s|$|@))/g;h.lastIndex=s;var f=h.exec(a);if(f){var m=f[0],g=f.index+m.length;if("="===f[1])if('"'===a.charAt(g+1)){for(var b=a.indexOf('"',g+2);b>=0&&l-1>b&&" \n	#/`".indexOf(a.charAt(b+1))<0;)b=a.indexOf('"',b+1);0>b?(c&&(m="/"+m),e[m]=a.substr(g+2),s=l):(c&&(m="/"+m),e[m]=a.slice(g+2,b),s=b+1)}else{var v=/\S*?(?=(#|`|\/|\s|$|@))/g;v.lastIndex=g+1;var y=v.exec(a)[0];s=g+1+y.length,c&&(m="/"+m),e[m]=y}else c&&(m="/"+m),e[m]=!0,s=g}else s++}if(d){var x=a.length,w=a.indexOf(":",s);if(w>=0){for(;" \n	`".indexOf(a.charAt(w))<0&&w>s;)w--;x=w}n.class=a.slice(s,x),n.style=a.slice(x).trim()}return r}function a(t,e){var n;if(t=t.toLowerCase(),Object.keys(e).length){var i=g.subtypes[t];if(i)for(var r=0,o=i.length;o>r;r++){var s=i[r],l=!0;for(var c in e)if(e.hasOwnProperty(c)){var d=e[c];if("/"===c[0]&&(c=c.slice(1)),"__ctr,??".indexOf(c)<0&&s[c]!==d){l=!1;break}}if(l){n=s.__ctr;break}}}if(!n&&(n=g[t],n&&n.isAlias&&n.__type!==t)){var u=n.parameters;for(var c in u)u.hasOwnProperty(c)&&(e[c]=u[c]);n=a(n.__type,e)}return n}function s(t,e){g.controlInitialize(this,"controls.container",t,e,g.default_inner_template)}function l(t,e){g.controlInitialize(this,"controls.custom",t,e)}function c(t,e){this.isStub=!0,g.controlInitialize(this,"controls.stub",t,e,function(t){return"<div"+t.printAttributes()+">"+t.printControls()+"</div>"}),this.class("stub");var n=0;Object.defineProperty(this,"state",{enumerable:!0,get:function(){return n},set:function(t){t!==n&&(n=t,0===t?this.class(null,"stub-loading stub-error"):0>t?this.class("stub-error","stub-loading"):this.class("stub-loading","stub-error"),this.raise("state"),this.state>0&&this.tryReplace())}}),this.tryReplace=function(){var t=this.parameters,e={},n={},i=this.attributes;for(var r in t)t.hasOwnProperty(r)&&"#"!==r[0]&&"{"!==r[1]&&(e[r]=t[r]);for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r]);var o=g.createBase(t["#{type}"],e,n);o&&(o.class(null,"stub stub-loading stub-error"),this.replaceItself(o),this.raise("control",o))}}function d(t,e){g.controlInitialize(this,"controls.head",t,e,d.outer_template),this.attach=function(){return this.element=document.head,this},this.attachAll=function(){return this.element=document.head,d.prototype.attachAll.call(this)}}function u(t,e){g.controlInitialize(this,"controls.body",t,e,u.outer_template),this.attach=function(){return this.element=document.body,this},this.attachAll=function(){return this.element=document.body,u.prototype.attachAll.call(this)}}function p(t,e){this.initialize("controls.layout",t,e,p.outer_template);var n=!1;this.cellSet=new s,this.cellSet.listen_("attributes",this,function(t){var e=t.name,n=t.value,i=void 0===n||null===n,r=this._element;if(r)for(var o=r.childNodes,a=o.length-1;a>=0;a--){var s=o[a];i?s.removeAttribute(e):s.setAttribute(e,n)}}),this.listen_("type",function(){var t,e=this.parameters;for(var i in e)(e.hasOwnProperty(i)&&"float"===i||"/float"===i)&&(t=e[i]);t&&this.cellSet.style("float:"+t),n=t})}function h(t,e){this.initialize("controls.list",t,e,h.outer_template),this.itemSet=new s,this.itemSet.listen_("attributes",this,function(t){var e=t.name,n=t.value,i=void 0===n||null===n,r=this._element;if(r)for(var o=r.childNodes,a=o.length-1;a>=0;a--){var s=o[a];i?s.removeAttribute(e):s.setAttribute(e,n)}})}function f(t,e){this.initialize("controls.input",t,e,f.outer_template).listen_("change",function(){this.attributes.value=this.element.value},!0).listen_("element",function(t){t&&(t.value=this.attributes.value||"")}),Object.defineProperty(this,"value",{get:function(){return this.attributes.value},set:function(t){var e=this._element;this.attributes.value=t,e&&(e.value=t)}})}function m(t,e){this.initialize("controls.select",t,e,m.outer_template,m.inner_template).bind(e.hasOwnProperty("$data")?g.create("DataArray",{$data:e.$data}):g.create("DataArray")).listen_("data",this.refreshInner).listen_("change",function(){this.attributes.value=this.element.value},!0).listen_("element",function(t){t&&(t.value=this.attributes.value)}),Object.defineProperty(this,"value",{get:function(){return this.attributes.value},set:function(t){var e=this._element;this.attributes.value=t,e&&(e.value=t)}})}var g={VERSION:"0.7.04",id_generator:53504,template:function(t){return new Function("return '"+t.replace(/'|\n/g,function(t){return{"'":"\\'","\n":"\\n\\\n"}[t]})+"'")},subtypes:{}},b=",add,_add,attach,attr,_attr,attrs,attributes,class,controls,data,delete,each,element,findFirst,findLast,first,forEach,id,insert,_insert,__type,last,length,name,parameters,parent,refresh,remove,style,template,",v=/&(?!#?\w+;)|<|>|"|'|\//g,y={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;","/":"&#47;"},x=/&#(\d{1,8});/g;g.controlInitialize=function(t,n,r,o,a,s){if(o){if(t.id=o.id||(o.id=(++g.id_generator).toString(16)),t.name=o.$name,"$prime"in o){var l=o.$prime;l instanceof i||l instanceof e?this.bind(l):o.$text=l,delete o.$prime}"$template"in o&&(a||(a=o.$template),delete o.$template),"outer_template"in o&&(a||(a=o.outer_template),delete o.outer_template),"inner_template"in o&&(s||(s=o.inner_template),delete o.inner_template),t.attributes=o}else t.attributes={id:t.id=(++g.id_generator).toString(16)};return t.__type=n.indexOf(".")>=0?n:"controls."+n,t.parameters=r||{},t.controls=[],a&&(a.no_serialize=!0,Object.defineProperty(t,"outer_template",{enumerable:!0,writable:!0,value:a})),s&&(s.no_serialize=!0,Object.defineProperty(t,"inner_template",{enumerable:!0,writable:!0,value:s})),t},g.typeRegister=function(t,e,n){g.factoryRegister(t,e),e.is_constructor=!0,e.revive=n},g.factoryRegister=function(t,e){var n={},i=o(t,n).toLowerCase();for(var r in n)"/"===r[0]&&(n[r.slice(1)]=n[r],delete n[r]);if(i.length<t.length||Object.keys(n).length){n.__ctr=e;var a=g.subtypes[i]||(g.subtypes[i]=[]);a.push(n)}else{if(g[i])throw new TypeError("Type "+t+" already registered!");g[i]=e}},g.typeAlias=function(t,e){var n={},i=o(e,n).toLowerCase(),r=a(i,n);if(!r)throw new TypeError("Type "+i+" not registered!");g[t.toLowerCase()]={__type:i,parameters:n,isAlias:!0}},g.parse=function(t){try{return JSON.parse(t)||{}}catch(e){console.log(e)}return{}};var w=",change,DOMActivate,load,unload,abort,error,select,resize,scroll,blur,DOMFocusIn,DOMFocusOut,focus,focusin,focusout,click,dblclick,mousedown,mouseenter,mouseleave,mousemove,mouseover,mouseout,mouseup,wheel,keydown,keypress,keyup,oncontextmenu,compositionstart,compositionupdate,compositionend,DOMAttrModified,DOMCharacterDataModified,DOMNodeInserted,DOMNodeInsertedIntoDocument,DOMNodeRemoved,DOMNodeRemovedFromDocument,DOMSubtreeModified,";g.Event=function(t,e,n,i){var r=this.listeners=[],o=this.call_this=t;if(this.type=e,this.capture=n,this.is_dom_event=w.indexOf(","+e+",")>=0,i)for(var a=0,s=i.length;s>a;a+=2){r.push(i[a]);var l=i[a+1];r.push(l===o?null:o)}this.raise=function(){for(var t=0,e=r.length;e>t;t+=2)r[t].apply(r[t+1]||o,arguments)}},g.Event.prototype={addListener:function(t,e){arguments.length>1?this.listeners.push(e,t===this.call_this?null:t):this.listeners.push(t,null)},removeListener:function(t){var e=this.listeners,n=e.indexOf(t);n>=0&&e.splice(n,2)},clear:function(){this.listeners.length=0},toJSON:function(){for(var t=[],e=this.listeners,n=0,i=e.length;i>n;n+=2){var o=e[n];o.no_serialize||(t.push(r(o)),t.push(null))}return{type:this.type,capture:this.capture,listeners:t}}};var _=[];setInterval(function(){if(_.length>0)for(var t=0,e=_.length;e>t;t++){try{_[t].post_event.raise()}catch(n){console.log(n)}_.length=0}},30);var O={listen:function(){var t=this.event||(this.event=new g.Event(this));return t.addListener.apply(t,arguments),this},listen_:function(t,e){return"function"==typeof e?e.no_serialize=!0:t.no_serialize=!0,this.listen.apply(this,arguments)},removeListener:function(t){var e=this.event;return e&&e.removeListener(t),this},subscribe:function(t,e){if("function"==typeof t&&(e=t,t=this),!e)return this;var n=this.post_event||(this.post_event=new g.Event(this));return n.addListener.apply(n,arguments),this},unsubscribe:function(t){var e=this.post_event;return e&&e.removeListener(t),this},raise:function(){var t=this.event;t&&t.raise.apply(this,arguments);var e=this.post_event;if(e){var n=_.indexOf(this);(0>n||n!==_.length-1)&&(n>=0&&_.splice(n,1),_.push(this))}},set:function(t,e){this.state_id++,this[t]=e,this.last_name=t,this.raise()},setx:function(t){var e;for(var n in t)t.hasOwnProperty(n)&&(e=!0,this.state_id++,this[n]=t[n],this.last_name=t);e&&this.raise()}};e.prototype=O,g.typeRegister("DataObject",e);var $={push:function(){for(var t=Object.getPrototypeOf(this),e=0,n=arguments.length;n>e;e++)t.push.call(this,arguments[e]);this.state_id+=n,this.last_operation=1,this.last_index=this.length-1,this.raise(this)}};n.prototype={raise:function(){}},g.typeRegister("LocalStorage",n),g.factoryRegister("DataArray",i),g.control_prototype=new function(){function e(t,e){var n=this._parent;if(t!==n){this._parent=t;var i=this._name;if(n){var r=n.controls,e=r.indexOf(this);e>=0&&r.splice(e,1),i&&n.hasOwnProperty(i)&&n[i]===this&&delete n[i]}if(t){var o=t.controls;void 0===e?o.push(this):o.splice(e,0,this),i&&(t[i]=this)}this.raise("parent",t)}}function n(t,e){var n,i=e,r=e.indexOf(":");r>=0&&(n=e.substr(0,r),i=e.substr(r+1));var o,a=i.indexOf("`");a>=0&&(i=e.substr(0,a),o=e.substr(a+1));var s,l=i.indexOf("#");l>=0&&(i=e.substr(0,l),s=e.substr(l+1)),i&&i.indexOf(".")<0&&(i="controls."+i);var c,d;return i&&((c||(c={})).__type=i),n&&((c||(c={})).name=n),o&&((d||(d={})).class=o),t.call(this,c,d)}function i(){var t=Array.prototype.slice.call(arguments);t.unshift("data"),this.raise.apply(this,t)}this.initialize=function(t,e,n,i,r){return g.controlInitialize(this,t,e,n,i,r)},Object.defineProperties(this,{name:{enumerable:!0,get:function(){return this._name},set:function(t){if(b.indexOf(","+t+",")>=0)throw new SyntaxError('Invalid name "'+t+'"!');var e=this._name;if(t!==e){this._name=t;var n=this._parent;n&&(e&&n.hasOwnProperty(e)&&n[e]===this&&delete n[e],t&&(n[t]=this))}}},element:{enumerable:!0,get:function(){return this._element},set:function(t){var e=this._element;if(t!==e){this._element=t;var n=this.events;if(n)for(var i in n){var r=n[i];r.is_dom_event&&(e&&e.removeEventListener(r.type,r.raise,r.capture),t&&t.addEventListener(r.type,r.raise,r.capture))}this.raise("element",t)}}},parent:{enumerable:!0,get:function(){return this._parent},set:e},wrapper:{enumerable:!0,get:function(){return this._wrapper},set:function(t){var e=this._wrapper;if(t!==e){if(this._wrapper=t,e){var n=e.controls,i=n.indexOf(this);i>=0&&n.splice(i,1)}if(t){var r=t.controls;r.push(this)}}}},length:{enumerable:!0,get:function(){return this.controls.length}}}),this.find=function(t,e,i){arguments.length<3&&(i=!0);var r=this.controls,o=[];if("object"==typeof t||"object"==typeof e)for(var a=0,s=r.length;s>a;a++){var l=r[a];if(t)for(var c in t)if(t.hasOwnProperty(c))if(l[c]===t[c])o.push(l);else if(e){var d=l.attributes;for(var c in e)e.hasOwnProperty(c)&&d[c]===e[c]&&o.push(l)}else if(i){var u=l.find(t,e,i);u.length&&o.push.apply(o,u)}}else{if(!t)return r[0];if("string"==typeof t)return n.call(this,this.find,t);if("function"==typeof t)for(var a=0,s=r.length;s>a;a++){var l=r[a];if(t(l))o.push(l);else if(i){var u=l.find(t,e,i);u.length&&o.push.apply(o,u)}}}},this.select=function(t,e){return this.find(t,e,!1)},this.first=function(t,e){return this.findFirst(t,e,!1)},this.findFirst=function(t,e,i){arguments.length<3&&(i=!0);var r=this.controls;if("object"==typeof t||"object"==typeof e)for(var o=0,a=r.length;a>o;o++){var s=r[o];if(t)for(var l in t)if(t.hasOwnProperty(l)&&s[l]===t[l])return s;if(e){var c=s.attributes;for(var l in e)if(e.hasOwnProperty(l)&&c[l]===e[l])return s}if(i){var d=s.findFirst(t,e,i);if(d)return d}}else{if(!t)return r[0];if("string"==typeof t)return n.call(this,this.findFirst,t);if("function"==typeof t)for(var o=0,a=r.length;a>o;o++){var s=r[o];if(t(s))return s;if(i){var d=s.findFirst(t,e,i);if(d)return d}}}},this.last=function(t,e){return this.findLast(t,e,!1)},this.findLast=function(t,e,i){arguments.length<3&&(i=!0);var r=this.controls;if("object"==typeof t||"object"==typeof e)for(var o=r.length-1;o>=0;o--){var a=r[o];if(t)for(var s in t)if(t.hasOwnProperty(s)&&a[s]===t[s])return a;if(e){var l=a.attributes;for(var s in e)if(e.hasOwnProperty(s)&&l[s]===e[s])return a}if(i){var c=a.findLast(t,e,i);if(c)return c
}}else{if(!t)return r[0];if("string"==typeof t)return n.call(this,this.findLast,t);if("function"==typeof t)for(var o=r.length-1;o>=0;o--){var a=r[o];if(t(a))return a;if(i){var c=a.findLast(t,e,i);if(c)return c}}}},this.outer_template=function(t){return"<div"+t.printAttributes()+">"+(t.attributes.$text||"")+t.printControls()+"</div>"},g.default_outer_template=this.outer_template,this.inner_template=function(t){return(t.attributes.$text||"")+t.printControls()},g.default_inner_template=this.inner_template,g.default_outer_inline_template=function(t){return"<span"+t.printAttributes()+">"+(t.attributes.$text||"")+t.printControls()+"</span>"},this.innerHTML=function(){return this.inner_template(this)},this.outerHTML=function(){return this.outer_template(this)},this.wrappedHTML=function(){var t=this._wrapper;return t?t.wrappedHTML():this.outerHTML()},this.template=function(t,e){return t&&("string"==typeof t&&(t=g.template(t)),this.hasOwnProperty("outer_template")?this.outer_template=t:Object.defineProperty(this,"outer_template",{configurable:!0,enumerable:!0,writable:!0,value:t})),e&&("string"==typeof t&&(e=g.template(e)),this.hasOwnProperty("inner_template")?this.inner_template=e:Object.defineProperty(this,"inner_template",{configurable:!0,enumerable:!0,writable:!0,value:e})),this},this.toJSON=function(){var t={__type:this.type(),attributes:this.attributes},e=this.name;e&&(t.name=e);var n=this.controls;if(n.length&&(t.controls=n),this.hasOwnProperty("outer_template")){var i=this.outer_template;i.no_serialize||(t.outer_template=r(this.outer_template))}if(this.hasOwnProperty("inner_template")){var o=this.outer_template;o.no_serialize||(t.inner_template=r(this.inner_template))}var a=this.events;if(a){var s=[];for(var l in a)if(a.hasOwnProperty(l)){for(var c=a[l],d=c.listeners,u=!1,p=0,h=d.length;h>p;p+=2)if(!d[p].no_serialize){u=!0;break}u&&s.push(c)}s.length&&(t.events=s)}return t},this.refresh=function(){var t=this._element;if(t)if(t.parentNode)try{var e=this.outerHTML();e!==t.outerHTML&&(this.detachAll(),t.outerHTML=e,this.attachAll())}catch(n){this._element=void 0}else this._element=void 0;return this},this.refreshInner=function(){var t=this._element;return t&&(t.innerHTML=this.innerHTML()),this},this.attach=function(t){return"object"==typeof t?this.element=t:"string"==typeof t&&(this.element=document.querySelector(t)),this},this.attachAll=function(){this._element||(this.element=document.getElementById(this.id));for(var t=this.controls,e=0,n=t.length;n>e;e++)t[e].attachAll();return this},this.detach=function(){return this.element=void 0,this},this.detachAll=function(){this.element=void 0;for(var t=this.controls,e=0,n=t.length;n>e;e++)t[e].detachAll();return this},this.replaceItself=function(t){for(var n=this.controls,i=n.length-1;i>=0;i--)t.add(n.shift());var r=this.parent;if(r){var o=r.controls.indexOf(this);this.parent=void 0,e.call(t,r,o)}else t.parent=void 0;var a=this._element;return a?(t.element=a,t.refresh()):t.element=void 0,this},this.createElement=function(t,e){var n=this._element,i=this.parent;if(n)throw new TypeError("Element already exists!");if(!t&&i&&(t=i.element,e=0),t&&"__type"in t&&(t=t.element),!t)throw new TypeError("Failed to create element!");if(t.insertAdjacentHTML){var r;switch(e){case 1:r="afterbegin";break;case 2:r="beforebegin";break;case 3:r="afterend";break;default:r="beforeend"}t.insertAdjacentHTML(r,this.outerHTML())}else{var o=document.createDocumentFragment(),a=document.createElement("div");a.innerHTML=this.outerHTML();for(var s=Array.prototype.slice.call(a.childNodes),l=0,c=s.length;c>l;l++)o.appendChild(s[l]);switch(e){case 1:0===t.childNodes.length?t.appendChild(o):t.insertBefore(t.firstChild,o);break;case 2:var d=t.parentNode;d&&d.insertBefore(o,t);break;case 3:var d=t.parentNode;if(d){var u=t.nextSibling;u?d.insertBefore(o,u):d.appendChild(o)}break;default:t.appendChild(o)}}return this.attachAll()},this.deleteElement=function(){var t=this._element;if(t){this.detachAll();var e=t.parentNode;e&&e.removeChild(t),this._element=void 0}return this},this.deleteAll=function(){this.deleteElement();for(var t=this.controls,e=t.length-1;e>=0;e--)t[e].deleteAll();return this},this.on=this.listen=function(e,n,i,r){return"function"==typeof n&&(r=i,i=n,n=null),e&&i&&t(this,e,r).addListener(n,i),this},this.on_=this.listen_=function(e,n,i,r){return"function"==typeof n&&(r=i,i=n,n=null),e&&i&&(t(this,e,r).addListener(n,i),i.no_serialize=!0),this},this.addListener=function(t,e,n,i){return this.listen(t,e,n,i)},this.removeListener=function(e,n,i){return e&&n&&t(this,e,i).removeListener(n),this},this.raise=function(t){var e=this.events;if(t&&e){var n=e["#"+t],i=e[t],r=Array.prototype.slice.call(arguments,1);n&&n.raise.apply(this,r),i&&i.raise.apply(this,r)}return this},this.raiseDOMEvent=function(t,e){if(!this._element)throw new TypeError("Control not attached to DOM!");var n,i={target:this._element,type:t,bubbles:!0,cancelable:!0};/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/.test(t)&&(["button","buttons","clientX","clientY","movementX","movementY","screenX","screenY"].forEach(function(t){i[t]=0}),["altKey","ctrlKey","metaKey","shiftKey"].forEach(function(t){i[t]=!1}),i.relatedTarget=null,i.view=this._element.ownerDocument.defaultView,n=new MouseEvent(t,g.extend(i,e))),n&&this._element.dispatchEvent(n)},this.parameter=function(t,e){var n=this.parameters;return arguments.length<=1?n[t]||n["/"+t]:(e!==n[t]&&(n[t]=e,this.refresh()),this)},this._parameter=function(t,e){return this.parameter(t,e),this},this.attr=function(t,e){var n=this.attributes;return 0===arguments.length?void 0:1===arguments.length?n[t]:void(e!==n[t]&&(n[t]=e,this._element&&this.refresh()))},this._attr=function(t,e){return this.attr(t,e),this},this.attrs=function(t){var e=this.attributes;if(arguments.length>0){var n=!1;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];r!==e[i]&&(e[i]=r,n=!0)}n&&this._element&&this.refresh()}return e},this._attrs=function(t){return this.attrs(t),this},this.type=function(t,e){if(!arguments.length){var n="",i="",r=this.parameters;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];"boolean"==typeof s&&s?s="":("string"!=typeof s&&(s=String(s)),s=s.indexOf(" ")>=0?'="'+s+'"':"="+s),"/"===a[0]?(n&&(n+=" "),n+=a.substr(1)+s):(i&&(i+=" "),i+=a+s)}var t=this.__type;return i&&(t+=" "+i),n&&(t+="/"+n),t}var r=this.parameters;for(var a in r)r.hasOwnProperty(a)&&delete r[a];if(e&&this.parent){var l=parent.parameters;for(var a in l)r.hasOwnProperty(a)&&"/"===a[0]&&(r[a]=l[a])}this.__type=o(t,r,this.attributes)||this.__type,this.raise("type")},this._type=function(t,e){return this.type(t,e),this},this.printAttributes=function(t){var e="",n=this.attributes;if(t)if(t.indexOf(",")>=0&&console.log("printAttributes() Use a space to separate of identifiers"),"-"===t[0]){var i=t.substr(1).split(" ");for(var r in n)if(n.hasOwnProperty(r)&&"$"!==r[0]&&i.indexOf(r)<0){var o=n[r];o&&(e+=" "+r+'="'+o+'"')}}else for(var a=t.split(" "),s=0,l=a.length;l>s;s++){var c=a[s],o=n[c];o&&(e+=" "+c+'="'+o+'"')}else for(var r in n)if(n.hasOwnProperty(r)&&"$"!==r[0]){var o=n[r];o&&(e+=" "+r+'="'+o+'"')}return e},this.printControls=function(){for(var t="",e=this.controls,n=0,i=e.length;i>n;n++)t+=e[n].wrappedHTML();return t},this.text=function(t){var e=this.attributes;return arguments.length&&t!==e.$text&&(e.$text=t,this.refresh()),e.$text},this._text=function(t){return this.text(t),this},this.style=function(t){var e=this.attributes;if(arguments.length){if(t!==e.style){e.style=t;var n=this._element;n&&(n.style=t),this.raise("attributes","style",t)}return t}return e.style},this._style=function(t){return this.style(t),this},this.class=function(t,e){var n=this.attributes;if(t||e){var i=n.class,r=i?i.split(" "):[];if(e){e=e.split(" ");for(var o=0,a=e.length;a>o;o++){var s=e[o],l=r.indexOf(s);l>=0&&r.splice(l,1)}}if(t){t=t.split(" ");for(var o=0,a=t.length;a>o;o++){var c=t[o];r.indexOf(c)<0&&r.push(c)}}if(i=r.join(" "),i!==n.class){n.class=i;var d=this._element;d&&(d.className=i),this.raise("attributes","class",i)}}return n.class},this._class=function(t,e){return this.class(t,e),this},this.insert=function(t,n,i,r,s,c){if(n){if("function"==typeof i?(c=r,s=i,i=void 0,r=void 0):("object"!=typeof i||Array.isArray(i)||(c=s,s=r,r=i,i=void 0),"function"==typeof r&&(c=s,s=r,r=void 0)),Array.isArray(n)){for(var d,u=t,p=t+n.length;p>u;u++)d=this.insert(u,n[u],i,r,s,c);return d}if("object"==typeof n){var h=n;return h.hasOwnProperty("__type")&&e.call(n,this,t),h}var f={"class":""},m={};for(var b in r)r.hasOwnProperty(b)&&(f[b]=r[b]);var v=this.parameters;for(var b in v)v.hasOwnProperty(b)&&"/"===b[0]&&(m[b]=v[b]);var y,x;if("function"==typeof n?(y="controls.custom",x=l,f.$template=n):"<"===n.charAt(0)?(y="controls.custom",x=l,f.$template=g.template(n)):(y=o(n,m,f),x=a(y,m)),i&&(f.$prime=i),!x){if(!k)throw new TypeError("Type "+y+" not registered!");m["#{type}"]=n,m["#{__type}"]=y,m["#{callback}"]=s,m["#{this_arg}"]=c,x=a("controls.stub",m)}for(var b in m)m.hasOwnProperty(b)&&"$"===b[0]&&(f[b.substr(1)]=m[b]);var w=new x(m,f);return w.raise("type"),e.call(w,this,t),s&&s.call(c||this,w),w}},this.add=function(t,e,n,i,r){return this.insert(this.controls.length,t,e,n,i,r)},this.addOrStub=function(){k=1;try{return this.add.apply(this,arguments)}catch(t){}finally{k=0}},this._add=function(t,e,n,i,r){return this.insert(this.controls.length,t,e,n,i,r),this},this.unshift=function(t,e,n,i,r){return this.insert(0,t,e,n,i,r)},this._unshift=function(t,e,n,i,r){return this.insert(0,t,e,n,i,r),this},this.remove=function(t){return arguments.length?(t&&(t.parent=void 0),this):void(this.parent=void 0)},this.removeAll=function(){for(var t=this.controls,e=t.length-1;e>=0;e--)this.remove(t[e]);return this},this.bind=function(t,e){var n=this.data;return t!==n&&(this.data=t,n&&(n.removeListener(i),n.unsubscribe(i)),t&&(e?t.subscribe(this,i):t.listen_(this,i)),i.call(this)),this},this.every=function(t,e){return this.controls.every(t,e||this)},this.filter=function(t,e){return this.controls.filter(t,e||this)},this.each=this.forEach=function(t,e){return this.controls.forEach(t,e||this)},this.map=function(t,e){return this.controls.map(t,e||this)},this.some=function(t,e){return this.controls.some(t,e||this)}},g.resolveType=a;var k=0;g.createOrStub=function(){k=1;try{return g.create.apply(this,arguments)}catch(t){}finally{k=0}},g.createBase=function(t,e,n){e=e||{},n=n||{};var i=o(t,e,n),r=a(i,e);if(!r)throw new TypeError("Type "+i+" not registered!");for(var s in e)e.hasOwnProperty(s)&&"$"===s[0]&&(n[s.substr(1)]=e[s]);var l=r.is_constructor?new r(e,n):r(e,n);return"object"==typeof l&&"__type"in l&&l.raise("type"),l},g.create=function(t,e,n,i,r){"function"==typeof e?(r=n,i=e,e=void 0,n=void 0):("object"!=typeof e||Array.isArray(e)||(r=i,i=n,n=e,e=void 0),"function"==typeof n&&(r=i,i=n,n=void 0));var s={};n=n||{};var c,d;if("function"==typeof t?(c="controls.custom",d=l,n.$template=t):"<"===t.charAt(0)?(c="controls.custom",d=l,n.$template=g.template(t)):(c=o(t,s,n),d=a(c,s)),void 0!==e&&(n.$prime=e),!d){if(!k)throw new TypeError("Type "+c+" not registered!");s["#{type}"]=t,s["#{__type}"]=c,s["#{callback}"]=i,s["#{this_arg}"]=r,d=a("controls.stub",s)}for(var u in s)s.hasOwnProperty(u)&&"$"===u[0]&&(n[u.substr(1)]=s[u]);var p=d.is_constructor?new d(s,n):d(s,n);return"object"==typeof p&&"__type"in p&&p.raise("type"),p},g.reviverJSON=function(t,e){if("object"==typeof e&&null!==e&&e.hasOwnProperty("__type")){var n={},i=o(e.__type,n),r=a(i,n);r||(console.log("controls.reviverJSON(): "+i+" constructor not registered!"),n["#{type}"]=e.__type,n["#{__type}"]=i,r=a("controls.stub",n));var s,l=r.revive;return s=l?l(r,n,e):g.reviveControl(r,n,e),s.raise("type"),s}return e},g.revive=function S(t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];(Array.isArray(n)||"object"==typeof n&&n.hasOwnProperty("__type"))&&(t[e]=S(n))}"object"==typeof t&&t.hasOwnProperty("__type")&&(t=reviverJSON(null,t))}return t},g.reviveControl=function(t,e,n){if(n){var i=t.is_constructor?new t(e,n.attributes):t(e,n.attributes);n.controls&&(i.controls=n.controls);var r=n.outer_template;if(r){var o=r.indexOf("@");i.template(new Function(r.substr(0,o),r.substr(o+1)))}var a=n.inner_template;if(a){var o=a.indexOf("@");i.template(null,new Function(a.substr(0,o),a.substr(o+1)))}var s=n.events;if(s)for(var l=i.events={},c=0,d=s.length;d>c;c++){for(var u=s[c],p=u.listeners,c=0,d=p.length;d>c;c+=2){var h=p[c];if("string"==typeof h){var o=h.indexOf("@");p[c]=new Function(h.substr(0,o),h.substr(o+1))}}l[u.capture?"#"+u.type:u.type]=new g.Event(i,u.type,u.capture,p)}return i}},g.decodeHTML=function(t){return t?t.replace(x,function(t){return String.fromCharCode(parseInt(t.slice(2)))}):t},g.encodeHTML=function(t){return t?t.replace(v,function(t){return y[t]||t}):t},g.extend=function(t){for(var e=1,n=arguments.length;n>e;e++){var i=arguments[e];if("object"==typeof i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},g.delay=function(t,e){return setTimeout(function(){return t.apply(null,Array.prototype.slice.call(arguments,2))},e)},function(){function t(t,e){return"\nfunction c"+t+"(p, a) { controls.controlInitialize(this, 'controls."+t+"', p, a, c"+t+".outer_template); }\nc"+t+".prototype = controls.control_prototype;\n"+(e?"c"+t+".outer_template = function(it) { return '<"+t+"' + it.printAttributes() + '>' + (it.attributes.$text || '') + it.printControls() + '</"+t+">'; };\n":"c"+t+".outer_template = function(it) { return '<"+t+"' + it.printAttributes() + '>'; };\n")+"controls.typeRegister('"+t+"', c"+t+");\n"}Function("controls","a,abbr,address,article,aside,b,base,bdi,bdo,blockquote,button,canvas,cite,code,col,colgroup,command,datalist,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,g,gnome,h1,h2,h3,h4,h5,h6,header,i,iframe,img,ins,kbd,keygen,label,legend,li,link,map,mark,menu,meter,nav,noscript,object,ol,optgroup,option,output,p,pre,progress,ruby,rt,rp,s,samp,script,section,small,span,strong,style,sub,summary,sup,svg,table,tbody,td,textarea,tfoot,th,thead,time,title,tr,u,ul,var,video,wbr".split(",").map(function(e){return t(e.toLowerCase(),!0)}).join(""))(g),Function("controls","area,br,hr,meta,param,source,track".split(",").map(function(e){return t(e.toLowerCase(),!1)}).join(""))(g)}(),s.prototype=g.control_prototype,g.typeRegister("container",s),l.prototype=g.control_prototype,g.typeRegister("custom",l),c.prototype=g.control_prototype,g.typeRegister("stub",c),d.prototype=g.control_prototype,d.outer_template=function(t){return"<head>"+(t.attributes.$text||"")+t.printControls()+"</head>"},g.typeRegister("head",d),u.prototype=g.control_prototype,u.outer_template=function(t){return"<body"+t.printAttributes("-id")+">"+(t.attributes.$text||"")+t.printControls()+"</body>"},g.typeRegister("body",u),p.prototype=g.control_prototype,p.outer_template=function(t){for(var e="<div"+t.printAttributes()+">",n=t.controls,i='<div data-type="layout-item"'+t.cellSet.printAttributes("-id")+">",r=0,o=n.length;o>r;r++)e+=i+n[r].wrappedHTML()+"</div>";return e+t.clearfix?'<div style="clear:both;"></div></div>':"</div>"},g.typeRegister("layout",p),h.prototype=g.control_prototype,h.outer_template=function(t){for(var e="<ul"+t.printAttributes()+">",n=t.controls,i="<li"+t.itemSet.printAttributes("-id")+">",r=0,o=n.length;o>r;r++)e+=i+n[r].wrappedHTML()+"</li>";return e+"</ul>"},g.typeRegister("list",h),f.prototype=g.control_prototype,f.outer_template=function(t){return"<input"+t.printAttributes()+">"+(t.attributes.$text||"")+"</input>"},g.typeRegister("input",f),m.prototype=g.control_prototype,m.outer_template=function(t){return"<select"+t.printAttributes()+">"+(t.attributes.$text||"")+t.data.map(function(t){return"<option value="+t+">"+t+"</option>"}).join("")+"</select>"},m.inner_template=function(t){return(t.attributes.$text||"")+t.data.map(function(t){return"<option value="+t+">"+t+"</option>"}).join("")},g.typeRegister("select",m),"undefined"!=typeof module&&module.exports&&(module.exports=g),"function"==typeof define&&define.amd&&define(g),"undefined"!=typeof window&&(!window.controls||window.controls.VERSION<g.VERSION)&&(window.controls=g)}(),function(){"use strict";function t(t){function e(t,n){this.initialize("bootstrap.Label",t,n,e.template).listen_("type",function(){this.class("label label-"+this.getControlStyle(),"label-default label-link label-primary label-success label-info label-warning label-danger")})}function n(t,e){this.initialize("bootstrap.Panel",t,e).add("body:div`panel-body",e.$text),e.$text=void 0,t.header&&("string"==typeof t.header?this.insert(0,"header:div`panel-heading panel-title",t.header):this.insert(0,"header:div`panel-heading panel-title")),t.footer&&("string"==typeof t.footer?this.add("footer:div`panel-footer",t.footer):this.add("footer:div`panel-footer")),this.listen_("type",function(){this.class("panel panel-"+this.getControlStyle(),"panel-default panel-link panel-primary panel-success panel-info panel-warning panel-danger")}),this.text=function(t){return this.body.text(t)}}function i(t,e){this.initialize("bootstrap.DropdownItem",t,e,i.template)}function r(t,e){this.initialize("bootstrap.DividerItem",t,e,r.template).class("divider")}function o(t,e){this.initialize("bootstrap.DropdownLink",t,e,o.template).class("dropdown")}function a(t,e){this.initialize("bootstrap.ToggleBtn",t,e,a.template).class("btn dropdown-toggle")}function s(){this.class("btn btn-"+((this.getControlStyle()||"")+" "+(k[this.getControlSize()]||"")).trim(),this.attributes.class?"btn-default btn-primary btn-success btn-info btn-warning btn-danger btn-link btn-xs btn-sm btn-lg":null)}function l(t,e){this.initialize("bootstrap.Button",t,e,l.template).listen_("type",s)}function c(t,e){this.initialize("bootstrap.SplitButton",t,e,c.template)._class("btn-group")._add("button:bootstrap.Button",{$icon:e.$icon})._add("toggle:bootstrap.Button",{"class":"dropdown-toggle","data-toggle":"dropdown",$text:'<span class="caret"></span>'})._add("items:ul",{"class":"dropdown-menu"}).listen_("type",function(){var t="btn btn-"+((this.getControlStyle()||"")+" "+(k[this.getControlStyle()]||"")).trim();this.button.class(t),this.toggle.class(t)})}function d(t,e){this.initialize("bootstrap.BtnGroup",t,e,d.template).class("btn-group")}function u(t,e){this.initialize("bootstrap.TabPanelHeader",t,e,u.template).class("nav nav-tabs tabpanel-header")}function p(t,e){this.initialize("bootstrap.TabHeader",t,e,p.template).class("tab-header")}function h(t,e){this.initialize("bootstrap.TabPanelBody",t,e).class("tab-content tabpanel-body")}function f(t,e){this.initialize("bootstrap.TabPage",t,e).class("tab-pane fade")}function m(t,e){this.initialize("bootstrap.Form",t,e,m.template).attr("role","form")}function g(t,e){this.initialize("bootstrap.FormGroup",t,e).class("form-group")}function b(t,e){this.initialize("bootstrap.Modal",t,e,b.template)._class("modal fade")._attr("role","dialog")._add("header:div",{"class":"modal-header"})._add("body:div",{"class":"modal-body"})._add("footer:div",{"class":"modal-footer"}),e.hasOwnProperty("tabindex")||(e.tabindex=-1),e.hasOwnProperty("aria-hidden")||(e["aria-hidden"]=!0)}function v(t,e){this.initialize("bootstrap.ControlLabel",t,e,v.template).class("control-label")}function y(t,e){this.initialize("bootstrap.ControlCheckbox",t,e,y.template)._class("checkbox").add("input:input",e.$text,{type:"checkbox",checked:e.$checked}).listen_("change",function(){this.attributes.checked=this.element.checked},!0).listen_("element",function(t){t&&(t.checked=this.attributes.checked||"")}),Object.defineProperty(this,"checked",{get:function(){return this.input.attributes.checked},set:function(t){t=!!t;var e=this.input._element;this.input.attributes.checked=t,e&&(e.checked=t)}}),e.$checked=void 0,e.$text=void 0}function x(e,n){var i=new t["controls.input"](e,n)._class("form-control");return i.__type="bootstrap.ControlInput",i}function w(e,n){var i=new t["controls.select"](e,n)._class("form-control")._style("display:inline-block;");return i.__type="bootstrap.ControlSelect",i}var _=this;if(_.VERSION="0.7.04",!t)throw new TypeError("controls.bootstrap.js: controls.js not found!");if(t.bootstrap&&t.bootstrap.VERSION>=_.VERSION)return t.bootstrap;t.bootstrap=this;var O=function(){function e(){}return e.prototype=t.control_prototype,new e}();_.control_prototype=O,O.icon=function(t){return 0===arguments.length?this.attributes.$icon:(this.attributes.$icon=t,this._element&&this.refresh(),t)},O._icon=function(t){return this.icon(t),this},O.getControlStyle=function(){var t=this.parameters;return t.style||t["/style"]||t.info&&"info"||t.link&&"link"||t.success&&"success"||t.primary&&"primary"||t.warning&&"warning"||t.danger&&"danger"||"default"};var $={"xtra-small":"xtra-small",xs:"xtra-small","btn-xs":"xtra-small","-2":"xtra-small",small:"small",sm:"small","btn-sm":"small","-1":"small","default":"","":"",0:"",large:"large",lg:"large","btn-lg":"large",1:"large","xtra-large":"xtra-large",xl:"xtra-large",2:"xtra-large"};O.getControlSize=function(){var t=this.parameters,e=$[t.size||t["/size"]];if(!e)for(var n in t)e||(e=$[n]);return e||""},e.prototype=O,e.template=function(t){return"<span"+t.printAttributes()+">"+(t.attributes.$text||"")+"</span>"},t.typeRegister("bootstrap.Label",e),n.prototype=O,t.typeRegister("bootstrap.Panel",n),i.prototype=O,i.template=function(t){var e='<li id="'+t.id+'"><a'+t.printAttributes("-id")+">",n=t.attributes;return n.$icon&&(e+='<span class="glyphicon glyphicon-'+n.$icon+'"></span>&nbsp;'),e+(t.attributes.$text||"")+"</a></li>"},t.typeRegister("bootstrap.DropdownItem",i),r.prototype=O,r.template=function(t){return"<li"+t.printAttributes()+"></li>"},t.typeRegister("bootstrap.DividerItem",r),o.prototype=O,o.template=function(t){var e="<div"+t.printAttributes()+'><a class="dropdown-toggle" data-toggle="dropdown" href="#">',n=t.attributes,i=t.controls;if(n.$icon&&(e+='<span class="glyphicon glyphicon-'+n.$icon+'"></span>&nbsp;'),e+=(t.attributes.$text||"")+"</a>",i.length){e+='<ul class="dropdown-menu">';for(var r=0,o=i.length;o>r;r++)e+=i[r].wrappedHTML();e+="</ul>"}return e+"</div>"},t.typeRegister("bootstrap.DropdownLink",o),a.prototype=O,a.template=function(t){var e="<a"+t.printAttributes()+' data-toggle="dropdown" href="#">',n=t.attributes,i=t.controls;if(n.$icon&&(e+='<span class="glyphicon glyphicon-'+n.$icon+'"></span>&nbsp;'),(n.caret||n.Caret)&&(e+='<span class="caret"></span>'),e+=(t.attributes.$text||"")+"</a>",i.length){e+='<ul class="dropdown-menu">';for(var r=0,o=i.length;o>r;r++)e+=i[r].wrappedHTML();e+="</ul>"}return e},t.typeRegister("bootstrap.ToggleBtn",a);var k={"xtra-small":"btn-xs",small:"btn-sm",large:"btn-lg"};l.prototype=O,l.template=function(t){var e=t.attributes;return'<button type="button"'+t.printAttributes()+">"+(e.$icon?'<span class="glyphicon glyphicon-'+e.$icon+'"></span>':"")+(e.$icon&&e.$text?"&nbsp;":"")+(e.$text||"")+"</button>"},t.typeRegister("bootstrap.Button",l),c.prototype=O,t.typeRegister("bootstrap.SplitButton",c),d.prototype=O,t.typeRegister("bootstrap.BtnGroup",d),u.prototype=O,u.template=function(t){return"<ul"+t.printAttributes()+">"+(t.attributes.$text||"")+t.printControls()+"</ul>"},t.typeRegister("bootstrap.TabPanelHeader",u),p.prototype=O,p.template=function(t){var e=t.attributes;return"<li"+t.printAttributes()+'><a href="'+(e.$href||"")+'" data-toggle="tab">'+(e.$icon?'<span class="glyphicon glyphicon-'+e.$icon+'"></span>'+(e.$text?"&nbsp;":""):"")+(e.$text||"")+"</a></li>"},t.typeRegister("bootstrap.TabHeader",p),h.prototype=O,t.typeRegister("bootstrap.TabPanelBody",h),f.prototype=O,t.typeRegister("bootstrap.TabPage",f),m.prototype=O,m.template=function(t){return"<form"+t.printAttributes()+">"+t.printControls()+"</form>"},t.typeRegister("bootstrap.Form",m),g.prototype=O,t.typeRegister("bootstrap.FormGroup",g),b.prototype=O,b.template=function(t){return"<div"+t.printAttributes()+'><div class="modal-dialog"><div class="modal-content">'+t.printControls()+"</div></div></div>"},t.typeRegister("bootstrap.Modal",b),v.prototype=O,v.template=function(t){return"<label"+t.printAttributes()+">"+(t.attributes.$text||"")+"</label>"},t.typeRegister("bootstrap.ControlLabel",v),y.prototype=O,y.template=function(t){return"<div"+t.printAttributes()+"><label>"+t.printControls()+"</label></div>"},t.typeRegister("bootstrap.ControlCheckbox",y),t.factoryRegister("bootstrap.ControlInput",x),t.factoryRegister("bootstrap.ControlSelect",w)}"undefined"!=typeof module&&module.exports&&(module.exports=new t(require("controls"))),"function"==typeof define&&define.amd&&define(["controls"],function(e){return new t(e)}),"undefined"!=typeof window&&new t(window.controls)}(),function(){"use strict";$ENV={dot:doT,controls:controls,marked:marked,"bootstrap.controls":controls.bootstrap},$ENV.controls.template=$ENV.dot.template;var extend=$ENV.controls.extend;$ENV.marked.setOptions({gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1,langPrefix:"lang-"});var templatesHash={};$ENV.getDefaultTemplate=function(t){return templatesHash[t||""]||(templatesHash[t||""]=new Function("it",'var attributes = it.attributes, controls = it.controls, result = attributes.$text || "";\nfor(var i = 0, c = controls.length; i < c; i++)\n result += controls[i].wrappedHTML();\nreturn '+(t?'"<'+t+'" + it.printAttributes()+ ">" + $ENV.marked(result) + "</'+t+'>";':"$ENV.marked(result);")))};var url_params={};window.location.search.substring(1).split("&").forEach(function(t){if(t){var e=t.indexOf("=");0>e?url_params[t]=!0:url_params[t.slice(0,e)]=decodeURIComponent(t.slice(e+1).replace(/\+/g," "))}});var scripts_count=0,scripts_stated=0;$DOC={initialize:function(){this.urlParams=extend({},url_params);var t="",e=document.getElementById("DOC");if(e){var n=e.attributes;if(n.hasOwnProperty("root"))t=e.getAttribute("root");else{var i=e.getAttribute("src");if(i){var r=i.split("/");t=r.slice(0,r.length-1).join("/"),t&&(t+="/")}}}this.root=t;var o=document.currentScript;if(!o)for(var a=document.getElementsByTagName("script"),s=a.length-1;s>=0;s--){var l=a[s];l.src.indexOf("document.")>=0&&(!l.readyState||" complete interactive".indexOf(l.readyState)>0)&&(o=l)}if(o){var i=o.getAttribute("src");if(i){var c=i.split("/").slice(0,-1).join("/");this.codebase=c,this.components=c+(c?"/":"")+"components/"}$OPT.userjs=o.getAttribute("userjs")||$OPT.userjs,$OPT.icon=o.getAttribute("icon")||$OPT.icon;var d=o.getAttribute("editable")||$OPT.editable;$OPT.editable="false"===d||"0"===d?!1:!!d}$OPT.editable&&(url_params.edit&&window.self===window.top&&($OPT.edit_mode=1),url_params.preview&&($OPT.edit_mode=2,controls.id_generator=2e5)),this.state=0,this.events={},this.sections={},this.order=["fixed-top-bar","fixed-top-panel","header-bar","header-panel","left-side-bar","left-side-panel","content-bar","content-panel","right-side-panel","right-side-bar","footer-panel","footer-bar","fixed-bottom-panel","fixed-bottom-bar"],this.columns=["left-side-bar","left-side-panel","content-bar","content-panel","right-side-panel","right-side-bar"],this.vars={},this.filters=[],this.mods={},this.chead&&this.chead.detachAll(),this.chead=controls.create("head"),this.chead.attach(),this.cbody&&this.cbody.detachAll(),this.cbody=controls.create("body")},forceEvent:function(t){var e=this.events;return e[t]||(e[t]=new controls.Event)},onready:function(t){2===this.state||void 0===document.readyState||" interactive complete".indexOf(document.readyState)>0?t():this.forceEvent("ready").addListener(t)},onload:function(t){2===this.state?t():this.forceEvent("load").addListener(t)},listen:function(t,e){this.forceEvent(t).addListener(e)},raise:function(t){var e=this.events[t];e&&e.raise()},addSection:function(t,e){var n=this.sections,i=n[t];i&&i._element&&i.deleteElement(),n[t]=e},removeSection:function(t){var e=this.sections,n=e[t];n&&(n._element&&n.deleteElement(),e[t]=void 0)},sectionPlaceholder:function(t,e){var n=this.sections,i=n[t];if(i)if(i.__type){var r=i.element;r&&document.insertBefore(r,e)}else i.nodeType&&document.insertBefore(i,e);n[t]={placeholder:e,content:i}},sectionMover:function(t,e,n){var i=this.sections,r=i[e];if("string"==typeof r)i[n]=r,delete i[e];else if(r)if(r.__type){r.class(n,e);var o=r.element;o&&document.insertBefore(o,t)}else r.nodeType&&document.insertBefore(r,t)},parseContent:function(t){if(t)for(var e=t.toString().split(/(<!--\S+\s+)|(-->)/gm),n=0,i=e.length;i>n;n+=1){var r=e[n];if(r&&"<!--"===r.substr(0,4)){if("$"===r[4]){var o=r.substr(4).trim();this.vars[o]=e[n+2]}else{var a=r.substr(4).trim();this.addSection(a,e[n+2])}n+=2}}},appendElement:function(t,e,n){try{arguments.length<3&&(n=e,e=t,t=void 0);var i=document.head;if(t){var r=document.getElementById(t);if(r&&r.parentNode===i)return}return i.insertAdjacentHTML("beforeend","<"+e+(t?' id="'+t+'"':"")+Object.keys(n).map(function(t){return" "+t+'="'+n[t]+'"'}).join("")+"></"+e+">"),i.lastChild}catch(o){console.log(o)}},removeElement:function(t){var e=document.getElementById(t);e&&e.parentNode===document.head&&document.head.removeChild(e)},appendScript:function(t,e,n){if((1===arguments.length||"function"==typeof e)&&(n=e,e=t,t=void 0),t&&document.getElementById(t))return void(n&&n(1));var i=document.createElement("script");t&&(i.id=t),e.indexOf("(")>=0?i.innerHTML=e:(i.src=e,scripts_count++,i.src=e,i.async=!0,i.addEventListener("load",function(){n&&n(1),scripts_stated++,$DOC.checkAllScriptsReady()}),i.addEventListener("error",function(){n&&n(-1),scripts_stated++,$DOC.checkAllScriptsReady()})),document.head.appendChild(i)},appendScripts:function(t,e){var n=0,i=0;for(var r in t)n++,this.appendScript(r,t[r],function(t){t>0&&i++,e&&(i>=n?e(1):0>t&&e(-1))})},getRootUrl:function(t){return"/"===t[0]?"/"!==t[1]&&(t=this.root+t):t.indexOf(":")<0&&"."!==t[0]&&(t=this.root+t),t.replace("{{=$DOC.root}}",this.root)},loadUserJS:function(){var t=$OPT.userjs;if(t){t=t.split(",");for(var e=0,n=t.length;n>e;e++)this.appendScript("user.js/"+e,this.getRootUrl(t[e]))}},checkAllScriptsReady:function(){scripts_count===scripts_stated&&!$DOC.state&&$DOC.finalTransformation&&$DOC.finalTransformation()},appendCSS:function(t,e,n,i){(1===arguments.length||"function"==typeof e)&&(i=n,n=e,e=t,t="");var r=document.head,o=document.getElementById(t),a=e.indexOf("{")>=0;if(o)a?o.innerHTML!==e&&(o.innerHTML=e):o.href!==e&&(o.href=e);else if(a)r.insertAdjacentHTML(i||"beforeend",'<style id="'+t+'" auto="true">'+e+"</style>");else{var s=document.createElement("link");switch(s.rel="stylesheet",s.type="text/css",t&&(s.id=t),s.auto=!0,s.href=e,n&&(s.addEventListener("load",function(){n(1)}),s.addEventListener("error",function(){n(-1)})),i){case"afterbegin":r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s);break;default:r.appendChild(s)}}},mod:function(t,e){1===arguments.length&&(e=t);var n=$DOC.mods[t];n||(n=[],$DOC.mods[t]=n),e.split(/ ,;/g).forEach(function(e){if(n.indexOf(e)<0){var i=$DOC.getRootUrl("mods/"+e+"/"+e);$DOC.appendCSS(t+"-"+e+"-css",i+".css"),$DOC.appendScript(t+"-"+e+"-js",i+".js"),n.push(e)}})},removeMod:function(t,e){var n=$DOC.mods[t];n&&(1===arguments.length?n:e.split(/ ,;/g)).forEach(function(e){var i=n.indexOf(e);i>=0&&($DOC.removeElement(t+"-"+e+"-css"),$DOC.removeElement(t+"-"+e+"-js"),n.splice(i,1))})}},$DOC.initialize();var theme="",theme_confirmed;try{theme=localStorage.getItem("primary-theme"),theme_confirmed=localStorage.getItem("primary-theme-confirmed");var params_theme=url_params.theme;params_theme&&params_theme!==theme&&(theme=params_theme,theme_confirmed="");var params_settheme=url_params.settheme;params_settheme&&(params_settheme!==theme&&(theme_confirmed="",localStorage.setItem("primary-theme-confirmed","")),localStorage.setItem("primary-theme",params_settheme),theme=params_settheme)}catch(e){}Object.defineProperty($DOC,"theme",{get:function(){return theme},set:function(t){t=t||"",t!==theme&&"undefined"!=typeof localStorage&&(t?localStorage.setItem("primary-theme",t):(localStorage.removeItem("primary-theme"),localStorage.removeItem("primary-theme-confirmed")),window.location.reload())
}}),$DOC.headTransformation=function(){if(!($DOC.mode=document.head.hasAttribute("generator"))&&(document.head.setAttribute("generator","markdown webdocs"),this.appendElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),$OPT.icon&&this.appendElement("link",{rel:"shortcut icon",href:this.getRootUrl($OPT.icon)}),this.appendCSS("document.css",'.fixed-top-bar, .fixed-top-panel    { display: block; margin: 0; padding: 0; position: fixed; top: 0; left: 0; right: 0; z-index: 1030; }.fixed-top-panel    { background-color: inherit; padding: 25px 37px 0px 37px; margin-bottom: 25px; }.fixed-top-panel > .navbar    { margin: 0; }.header-bar, .header-panel    { display: block; margin: 0; padding: 0; }.header-panel    { padding: 25px 37px; }.footer-bar, .footer-panel    { display: block; margin: 0; padding: 0; }.footer-panel    { padding: 25px 37px; }.fixed-bottom-bar, .fixed-bottom-panel    { display: block; margin: 0; padding: 0; position: fixed; bottom: 0; left: 0; right: 0; z-index: 1030; }.fixed-bottom-panel    { padding: 0px 37px 0px 37px; margin-top: 25px; }.fixed-bottom-panel > .navbar    { margin: 0; }.text-box    { width:50%; padding:25px 37px 25px 37px; display: inline-block; }.fixed-left-side-bar, .fixed-left-side-panel    { display: table-cell; margin: 0; padding: 0; vertical-align: top; width: auto; position: fixed; top: 0; right: 0; bottom: 0; z-index: 1030; }.fixed-left-side-panel\n    { width: auto; padding:25px 20px; }.left-side-bar, .left-side-panel    { display: table-cell; margin: 0; padding: 0; vertical-align: top; width: 26%; min-width: 240px; }.left-side-panel    { padding:25px 9px 25px 37px; }.content-bar, .content-panel    { display: table-cell; margin: 0; padding: 0; vertical-align: top; width: 60%; min-width: 250px; max-width: 73%; }.content-panel    { padding:25px 37px 25px 37px; }.fixed-right-side-bar, .fixed-right-side-panel    { display: table-cell; margin: 0; padding: 0; vertical-align: top; width: auto; position: fixed; top: 0; right: 0; bottom: 0; z-index: 1030;}.fixed-right-side-panel    { width: auto; padding:25px 20px;}.right-side-bar, .right-side-panel    { display: table-cell; margin: 0; padding: 0; vertical-align: top; min-width: 240px; width: 28%;}.right-side-panel    { padding:25px 25px 25px 9px;}@media (max-width: 1024px) {.right-side-bar, .right-side-panel    { display: block; padding:25px 25px 25px 37px; width: 50%; }.right-side-panel    { padding:25px 25px 25px 37px; }}@media (max-width: 768px) {.left-side-bar, .left-side-panel    { display: block; margin: 0; padding: 0; width: auto; }.left-side-panel    { padding:25px 25px 25px 25px; }.content-bar, .content-panel    { display: block; margin: 0; padding: 0; max-width: 100%; width: auto; }.content-panel    { padding:25px 25px 25px 25px; }.right-side-bar, .right-side-panel    { display: block; margin: 0; padding: 0; width: auto; }.right-side-panel    { padding:25px 25px 25px 25px; }}.table-bordered {display:table-cell;}.stub {display:inline-block;}.stub-error {width:18px; height:18px; border:silver dotted 1px; border-radius:2px;}.stub-error:before {content:"?"; font-size:small; color:silver; margin:4px; position:relative; top:-2px;}.tabpanel-body {padding-bottom:5px; border-left:#DDD solid 1px; border-right:#DDD solid 1px; border-bottom:#DDD solid 1px;}.nav-tabs > li > a:focus {outline-color:silver;}.transparent {background-color:transparent;border-color:transparent;} .transparent:hover {text-decoration:none;}.rel {position:relative;} .abs {position:absolute;}.hidden {display:none;} .block {display:block;} .inline {display:inline;} .inlineblock {display:inline-block;} .tabcell {display:table-cell;} .tabcol {display:table-column;} .tabrow {display:table-row;}.bold {font-weight:bold;} .justify {text-align:justify;} .nowrap {white-space:nowrap;} .l {font-size:90%;} .ll {font-size:80%;}.fleft {float:left;} .fright {float:right;} .fnone {float:none;}.left {text-align:left;} .right {text-align:right;} .clear {clear:both;} .clearleft {clear:left;} .clearright {clear:right;}.center {text-align:center;vertical-align:middle;} .hcenter {text-align:center;} .vcenter {vertical-align:middle;} .bottom {vertical-align:bottom;}'+["0","5","10","15","20"].map(function(t){return".mar"+t+"{margin:"+t+"px}.martop"+t+"{margin-top:"+t+"px}.marright"+t+"{margin-right:"+t+"px}.marbottom"+t+"{margin-bottom:"+t+"px}.marleft"+t+"{margin-left:"+t+"px}.pad"+t+"{padding:"+t+"px}.padtop"+t+"{padding-top:"+t+"px}.padright"+t+"{padding-right:"+t+"px}.padbottom"+t+"{padding-bottom:"+t+"px}.padleft"+t+"{padding-left:"+t+"px}"}).join("")),theme&&1!==$OPT.edit_mode&&(this.appendCSS("theme.css",this.getRootUrl("mods/"+theme+"/"+theme+".css"),function(t){0>t&&theme_confirmed?localStorage.setItem("primary-theme-confirmed",""):t>0&&!theme_confirmed&&localStorage.setItem("primary-theme-confirmed",!0)},"afterbegin"),this.appendScript("theme.js",this.getRootUrl("mods/"+theme+"/"+theme+".js"))),!theme||!theme_confirmed||1===$OPT.edit_mode)){var t=document.getElementById("bootstrap.css");if(!t){for(var e=document.getElementsByTagName("link"),n=e.length-1;n>=0;n--){var i=e[n].href;if(i.indexOf("bootstrap.css")>=0||i.indexOf("bootstrap.min.css")>=0){t=!0;break}}if(!t){var r=("file:"===window.location.protocol?"http:":"")+"//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css";this.appendCSS("bootstrap.css",this.codebase.indexOf("aplib.github.io")>=0?r:this.codebase+(this.codebase?"/":"")+"bootstrap.css",function(t){0>t&&$DOC.appendCSS("bootstrap.css",r,null,"afterbegin")},"afterbegin")}}}},$DOC.headTransformation(),window.addEventListener("DOMContentLoaded",function(){var t=$DOC.events.ready;t&&(t.raise(),t.clear()),0===scripts_count&&window.addEventListener("load",function(){$DOC.finalTransformation()})}),$OPT.editable&&(1===$OPT.edit_mode&&window.top===window.self&&eval('!function(){"use strict";function t(){function t(){m=new c,$DOC.cbody.attachAll(),$DOC.appendCSS("document.editor.css",".tooltip, .popover { z-index:1200; }"),S=new r,$DOC.cbody.add(x=new i),x.createElement(),g=$DOC.cbody.add("div",{style:"overflow:hidden; border-radius:4px; position:fixed; top:20px;bottom:20px;right:20px; height:50%; width:50%; z-index:1101; border: silver solid 1px; background-color:white;"}),v=g.add("toolbar:div`clearfix",{style:"z-index:1111; background-color:#f0f0f0; line-height:32px; padding:0;"}).listen("element",function(t){t&&$(t).find("button,li,a").tooltip({placement:"bottom",container:"body",toggle:"tooltip"})}),v.add("save_group:bootstrap.BtnGroup`mar5",function(t){function e(){b.save(),t.download.element.href=(window.navigator.appName.indexOf("etscape")>0?"data:unknown":"data:application")+"/octet-stream;charset=utf-8,"+encodeURIComponent(b.buildHTML())}t.add("revert:bootstrap.Button",{$icon:"backward","data-original-title":"Revert"}).listen("click",function(){b.revert()});var n=m.fileName||"document.html";".html"!==n.toLowerCase().slice(-5)&&(n+=".html"),t.add("download:a`btn btn-default",\'<b class="glyphicon glyphicon-save"></b>\',{download:n,"data-original-title":"Download"}).listen("mousedown",e).listen("focus",e).listen("click",function(t){try{var e=new Blob([b.buildHTML()]);return window.navigator.msSaveOrOpenBlob(e,n),void t.preventDefault()}catch(o){}}),t.add("save:bootstrap.SplitButton",{$icon:"floppy-disk","data-original-title":"Save"},function(t){t.button._class("disabled").listen("click",function(){b.write()}),t.toggle._class("disabled"),t.items.add("bootstrap.DropdownItem",{$icon:"resize-small"}).listen("click",function(){b.write(0)}).text(".html"),t.items.add("bootstrap.DropdownItem",{$icon:"resize-full"}).listen("click",function(){b.write(1)}).text(".html + .mw.html"),t.items.add("bootstrap.DropdownItem",{$icon:"share-alt"}).listen("click",function(){b.copy()}).text("Copy")}),v.add("cpanel:bootstrap.Button`hide fleft martop5 marbottom5 marleft5 padleft15 padright15",{$icon:"cog","data-original-title":"Control panel"}).listen("click",function(){})}),v.add("bootstrap.Button`mar5 fright",{$icon:"remove","data-original-title":"Close editor (Ctrl-F12)"}).listen("click",function(){var t=location.href,e=t.indexOf("?edit");0>e&&(e=t.indexOf("&edit")),e>=0&&(window.location=t.slice(0,e)+t.slice(e+5))});var t=v.add("bootstrap.Splitbutton`martop5 fright",{$icon:"fullscreen"});t.button.listen("click",function(){b.mode=b.mode?0:1});var l=t.items;l.add("bootstrap.DropdownItem",{$icon:"chevron-left"}).listen("click",function(){b.position=1}),l.add("bootstrap.DropdownItem",{$icon:"chevron-right"}).listen("click",function(){b.position=0}),l.add("bootstrap.DropdownItem",{$icon:"chevron-up"}).listen("click",function(){b.position=2}),l.add("bootstrap.DropdownItem",{$icon:"chevron-down"}).listen("click",function(){b.position=3}),v.add("export_group:bootstrap.BtnGroup`mar5",function(t){t.add("github:bootstrap.Button",{"data-original-title":"Publish"})._icon("export")._text("GitHub").listen("click",function(){O.getSettings(!1,function(t){t&&O.publish()})})}),v.add(w=new o),g.add(T=new n),g.add(y=new e),g.createElement(),b=new a,O=new s,setInterval(function(){for(var t=0,e=k.length;e>t;t++)k[t]()},25),setInterval(function(){for(var t=0,e=C.length;e>t;t++)C[t]()},1e3)}function e(){var t=controls.create("div",{"class":"pad20"}),e=!0;Object.defineProperty(t,"visible",{get:function(){return e},set:function(n){e=n,t.element&&(t.element.style.display=e?"block":"none")}}),t.listen("element",function(t){t&&(t.style.display=e?"block":"none")});var n=t.add("bootstrap.FormGroup");return n.add("bootstrap.ControlLabel",{$text:"Title:"}),n.add("title_edit:bootstrap.ControlInput",{value:""}).listen("change",function(){S.title=n.title_edit.value}),S.listen(function(){S.title!==n.title_edit.value&&(n.title_edit.value=S.title)}),t.save=function(){},t}function n(){function t(){if(e.mode){var t=e._element;t&&t.value!==o&&(e.modified=25,o=t.value)}}var e=controls.create("textarea",{"class":"form-control",style:"font-family:Consolas,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace; display:none; border:0; border-radius:0; border-left:#f9f9f9 solid 6px; box-shadow:none; width:100%; height:100%; resize:none; "});e.code_edit_resize=function(){var t=e.element;t&&(t.style.height=$(g.element).height()-$(v.element).height()+"px")},$(window).on("resize",e.code_edit_resize),C.push(e.code_edit_resize);var n=0;Object.defineProperty(e,"mode",{get:function(){return n},set:function(t){t>2&&(t=2),t!==n&&(n=t,this.element&&(e.element.style.display=n?"block":"none"),e.code_edit_resize())}});var o;return e.listen("element",function(t){t&&(t.value=o),e.code_edit_resize()}),Object.defineProperty(e,"text",{get:function(){return this.element?this.element.value:o},set:function(t){o=t||"",this.element&&(this.element.value=o),this.modified=0}}),e.save=function(){t(),this.modified&&(this.modified=0,this.raise("text",o))},e.listen("change",t,!0),k.push(function(){t(),e.modified&&--e.modified<2&&(e.modified=0,e.raise("text",o))}),e}function o(){function t(){o.selectedIndex=o.controls.indexOf(this)}var e,n=-1,o=v.add("tabs_header:bootstrap.TabPanelHeader");return o.bind(controls.create("dataarray")),o.data.push({isoptions:!0,text:"",hint:"Page options",icon:"list-alt"},{ishtml:!0,text:"HTML",hint:"Edit as HTML"}),o.setTabs=function(t){var e=w.data;t.length+2<e.length&&e.splice(1,e.length-t.length-2);for(var n=e.length,o=t.length+2;o>n;n++)e.splice(1,0,{});for(var n=1,i=e.length-1;i>n;n++)e[n].text=t[n-1];e.raise()},o.listen("data",function(){for(var n=o.controls,i=this.data,r=n.length,a=i.length;a>r;r++)o.add("bootstrap.TabHeader").listen("click",t);for(var r=n.length-1,a=i.length;r>=a;r--){var s=n[r];s.deleteAll(),s.removeListener("click",t),o.remove(s)}for(var r=0,a=i.length;a>r;r++){var l=i[r];l.id=n[r].id;var s=n[r];s.attributes["data-original-title"]=l.hint,s.attributes.$icon=l.icon,s.text(l.text),l===e?s.class("active"):s.class(null,"active")}o.checkSelection(),o.element&&o.refresh()}),Object.defineProperty(o,"selectedIndex",{get:function(){return n},set:function(t){this.selected=t}}),Object.defineProperty(o,"selected",{get:function(){return e},set:function(t){var o=this.data;if("string"!=typeof t){if("number"==typeof t)return void(t>=0&&t<o.length&&t!==n?this.selected=o[t]:-1===t&&(this.selected=void 0));var i=o.indexOf(t);if(i>=0){var r=o[i];r!==e&&e&&(this.lastSelected=e)}if(t!==e||i!==n){for(var a=this.controls,s=0,l=a.length;l>s;s++)s===i?a[s].class("active"):a[s].class(null,"active");this.raise("selected",e=t?t:void 0,n=i)}}else{for(var s=0,l=o.length;l>s;s++){var r=o[s];if(r.id===t)return void(this.selected=r)}for(var s=0,l=o.length;l>s;s++){var r=o[s];if(r.text===t)return void(this.selected=r)}}}}),o.checkSelection=function(){var t=this.data;if(t.length){var n=t.indexOf(e);0>n&&(this.selected=this.lastSelected),this.selected||(this.selected=0)}else this.selected=-1},o}function i(){function t(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}var e,n,o=location.href;return o=o.slice(0,o.length-location.hash.length),o+=o.indexOf("?")>0?"&preview":"?preview",x=controls.create("iframe",{sandbox:"",src:o,style:"position:fixed; left:0; top:0; width:100%; height:100%; z-index:1100; border:none;"}),x.updateInnerHtml=function(t,o){e=t,n=o;var i=this.element,r=this.$DOC;if(i&&r){var a=i.contentDocument,s=i.contentWindow,l=a.getElementsByTagName("html")[0];l&&(r.initialize(),l.innerHTML=t,r.headTransformation(),s.$OPT.userjs?r.loadUserJS():setTimeout(function(){r.finalTransformation()},0))}},x.reload=function(){this.element&&this.deleteAll(),this.createElement()},x.listen("load",function(){setTimeout(function(){try{this.element.contentWindow.location.pathname!==window.location.pathname&&this.reload()}catch(t){this.reload()}this.$DOC=this.element&&x.element.contentWindow.$DOC,void 0!==e&&this.updateInnerHtml(e,n)}.bind(x),0)}),x.updateNamedSection=function(t,n,o){e=o;var i=this.$DOC,r=i.sections[t];"object"==typeof r&&r.source_node&&i.processTextNode(r.source_node,t+"\\n"+n)},x.grabHTML=function(){for(var e=this.element&&this.element.contentDocument,n=this.$DOC,o=e.documentElement.cloneNode(),i=e.createNodeIterator(o,128,null,!1),r=i.nextNode();r;)r.parentNode.removeChild(r),r=i.nextNode();var a="<!DOCTYPE html>"+o.outerHTML.replace(/<noscript>([\\s\\S]*?)<\\/noscript>/g,function(e,n){return"<noscript>"+t(n)+"</noscript>"}),s=a.lastIndexOf("</body>");return a.substr(0,s)+\'<script>$DOC.onready(function() { if ($OPT.edit_mode) return;$DOC.chead = JSON.parse(unescape("\'+escape(JSON.stringify(n.chead))+\'"), controls.reviverJSON);$DOC.cbody = JSON.parse(unescape("\'+escape(JSON.stringify(n.cbody))+\'"), controls.reviverJSON);$DOC.vars = JSON.parse(unescape("\'+escape(JSON.stringify(n.vars))+\'"), controls.reviverJSON);$DOC.onload(function(){ $DOC.chead.attachAll(); $DOC.cbody.attachAll(); for(var prop in $DOC.vars) { var v = $DOC.vars[prop]; if (v.__type) v.attachAll(); } });});</script>\'+a.substr(s)},x}function r(){function t(){return(this.opentag||"")+(this.attributes.$text||"")+this.controls.map(function(t){return t.outerHTML()}).join("")+(this.closetag||"")}var e,n,o,i;Object.defineProperty(this,"title",{get:function(){return o},set:function(r){if(o=r,!i){if(!n)return;i=n.add("div"),i.template(t)}i.controls.length=0,i.opentag="<title>"+r+"</title>",i.closetag="",e=this.buildHTML(),this.raise()}}),Object.defineProperty(this,"html",{get:function(){return e},set:function(r){if(r!==e){e=r;var a={},s={},l=document.implementation.createHTMLDocument(""),c=l.documentElement,d=/<html[\\s\\S]*?>([\\s\\S]*)<\\/html>/im.exec(e);d&&(c.innerHTML=d[1]);for(var u=controls.create("div"),h=[],f=[],p=l.createNodeIterator(c,65535,null,!1),m=p.nextNode();m;){var b=m===c?u:controls.create("div");b.template(t),h.push(m),f.push(b);var g=h.indexOf(m.parentNode);if(g>=0&&f[g].add(b),8===m.nodeType){var v=m.nodeValue,w=v[0];if(b.opentag="<!--"+m.nodeValue+"-->","%"===w);else if("!"===w);else{var y=v.indexOf(" "),T=v.indexOf("\\n"),S=v.indexOf("->");if(0>y&&0>T&&0>S);else if(0>y&&S>0);else if(T>0&&(0>y||y>T)&&(y=T),y>0&&128>y){var x=v.slice(0,y);a[x]=v.slice(y+1),s[x]=b}}}else if(m===c){var d=/(<html[\\s\\S]*?>)[\\s\\S]*?<head/im.exec(e);b.opentag="<!DOCTYPE html>\\n"+(d?d[1]:"<html>")+"\\n",b.closetag="\\n</html>"}else{var O=m.outerHTML,k=m.innerHTML;if(k){var C=O.lastIndexOf(k);0>C?b.opentag=O:(b.opentag=O.slice(0,C),b.closetag=O.slice(C+k.length))}else b.opentag=O?O:m.nodeValue}m=p.nextNode()}var N=l.getElementsByTagName("head")[0];n=N&&f[h.indexOf(N)];var E=l.getElementsByTagName("title")[0];E?(o=E.textContent,i=f[h.indexOf(E)]):(o="",i=null),this.chtml=u,this.sections=a,this.seccontrols=s,this.raise()}}}),this.updateNamedSection=function(t,n){var o=this.seccontrols[t];o&&(this.sections[t]=n,o.opentag="<!--"+t+"\\n"+n+"-->\\n",e=this.chtml.outerHTML())},this.buildHTML=function(){return this.chtml.outerHTML()}}function a(){function t(t,e,n,o,i,r,a,s,l,c,d,u){if(x.element){var h=x.element.style;h.top=t,h.right=e,h.bottom=n,h.left=o,h.width=i,h.height=r,h=g.element.style,h.top=a,h.right=s,h.bottom=l,h.left=c,h.width=d,h.height=u}}function e(){if(i)switch(r){case 1:t("0","0","0","0","100%","100%","auto","auto","20px","20px","50%","50%");break;case 2:t("0","0","0","0","100%","100%","20px","auto","auto","20px","50%","50%");break;case 3:t("0","0","0","0","100%","100%","auto","20px","20px","auto","50%","50%");break;default:t("0","0","0","0","100%","100%","20px","20px","auto","auto","50%","50%")}else switch(r){case 1:t("0","0","0","auto","50%","100%","0","auto","0","0","50%","100%");break;case 2:t("auto","0","0","0","100%","50%","0","0","auto","0","100%","50%");break;case 3:t("0","0","auto","0","100%","50%","auto","0","0","0","100%","50%");break;default:t("0","auto","0","0","50%","100%","0","0","0","auto","50%","100%")}T.code_edit_resize()}var n=this;S.listen(function(){n.edit_html=S.html,w.setTabs(Object.keys(S.sections)),x.updateInnerHtml(S.chtml.innerHTML(),Object.keys(S.sections))});var o;Object.defineProperty(this,"edit_html",{get:function(){return o},set:function(t){t!==o&&(o=t,S.html=o)}}),this.checkEdits=function(){var t=w.selected;t&&t.isoptions?y.save():t&&T.save()},w.listen("selected",this,function(){this.checkEdits(),this.updateCodeEdit(),this.modified=5,y.visible=0===w.selectedIndex}),this.updateCodeEdit=function(){var t=w.selected;switch(T.mode=!t||t.isoptions?0:t.ishtml?1:2,T.mode){case 1:T.text=n.edit_html;break;case 2:var e=w.selected;e?(T.section=e.text,T.text=S.sections[e.text]):T.text="";break;default:T.text=""}},T.listen("text",function(t){switch(T.mode){case 1:n.edit_html=t,n.modified=25;break;case 2:n.updateNamedSection(T.section,T.text),n.modified=25}}),this.updateNamedSection=function(t,e){S.updateNamedSection(t,e),o=S.buildHTML(),x.updateNamedSection(t,e,S.chtml.innerHTML())},this.save=function(){this.checkEdits(),f.selected=w.selected&&w.selected.text,f.editMw=this.edit_html,f.html===m.mwHtml&&(f.delete=!0),f.raise(),this.modified=0},this.write=function(){this.save(),arguments.length&&(m.fileMode=arguments[0]),m.fileMode?m.write(n.buildHTML(),x.grabHTML())&&h.onReady(function(){location.reload()}):m.write(n.buildHTML())&&h.onReady(function(){location.reload()})},this.copy=function(){this.save();var t=window.prompt("Enter file name",m.fileName);if(t&&t!==m.fileName)if(m.fileMode){var e=m.writeTo(t,n.buildHTML(),x.grabHTML());e&&h.onReady(function(){window.location=e})}else{var e=m.writeTo(t,n.buildHTML());e&&h.onReady(function(){window.location=e})}},this.revert=function(){this.edit_html=m.mwHtml,this.updateCodeEdit(),this.modified=2,setTimeout(function(){window.location.reload()},300)},this.buildHTML=function(){return T.save(),S.buildHTML()};var i=0,r=0,a=600,s=500;if(Object.defineProperty(this,"mode",{get:function(){return i},set:function(t){i=t,e(),n.saveLayout()}}),Object.defineProperty(this,"position",{get:function(){return r},set:function(t){r=t,e(),n.saveLayout()}}),this.saveLayout=function(){"undefined"!=typeof localStorage&&localStorage.setItem("editor layout",[i,r,a,s].join(";"))},"undefined"!=typeof localStorage){try{var l=localStorage.getItem("editor layout").split(";");i=parseInt(l[0]),r=parseInt(l[1]),a=parseInt(l[2]),s=parseInt(l[3])}catch(c){}e()}var d=localStorage&&localStorage.getItem("default selected page");w.lastSelected=f.selected||d||w.data[0],this.edit_html=f.editMw||m.mwHtml||"",w.checkSelection(),m.writable&&(v.save_group.save.button.class(null,"disabled"),v.save_group.save.toggle.class(null,"disabled")),k.push(function(){this.modified&&--this.modified<2&&(this.modified=0,this.save())}.bind(this))}function s(){function t(){var t=controls.create("bootstrap.modal",{style:"z-index:1200;",disabled:!0});t.close=t.header.add("button`close","&times;",{type:"button"}),t.header.add("h4`modal-title","Publish on GitHub");var e=t.body.add("form:bootstrap.Form");return e._add("bootstrap.FormGroup",function(e){e.add("bootstrap.ControlLabel","Username:"),t.user=e.add("bootstrap.ControlInput")})._add("bootstrap.FormGroup",function(e){e._add("bootstrap.ControlLabel","Repository:"),t.repo=e.add("bootstrap.ControlInput")})._add("bootstrap.FormGroup",function(e){e._add("bootstrap.ControlLabel","Branch:"),t.branch=e.add("bootstrap.ControlInput")})._add("bootstrap.FormGroup",function(e){e._add("bootstrap.ControlLabel","Path in repository:"),t.path=e.add("bootstrap.ControlInput")})._add("bootstrap.FormGroup",function(e){e._add("bootstrap.ControlLabel","Personal access token or password:"),t.apikey=e.add("bootstrap.ControlInput")}),t.OK=t.footer.add("bootstrap.Button#primary","OK"),t.Cancel=t.footer.add("bootstrap.Button","Cancel"),t.modeCheckbox=e.add("bootstrap.FormGroup").add("bootstrap.ControlCheckbox`martop20",{$text:"Compile to html"}),t.ref0=e.add("bootstrap.FormGroup").add("a`martop20",{target:"repo"}),setInterval(function(){var e=t.user.value,n=t.repo.value;if(e&&n){var o="https://github.com/"+e+"/"+n;t.ref0._text(o)._attr("href",o)}},977),t}this.getSettings=function(e,n){var o=p.github||(p.github={}),i=o.user,r=o.repo,a=o.branch,s=l({fileName:f.github_path}),c=sessionStorage.getItem("github-apikey")||"";s.fileName||(s=l({fileName:decodeURIComponent(location.pathname).split("/").slice(2).join("/")})),i=i||location.host.split(".")[0],r=r||decodeURIComponent(location.pathname).split("/")[1],a=a||"gh-pages";var d=$DOC.cbody.github_modal;d||(d=$DOC.cbody.github_modal=$DOC.cbody.add(t()),d.createElement(),d.close.listen("click",function(){$(d.element).modal("hide"),n&&n(!1)}),d.OK.listen("click",function(){var t=p.github||(p.github={});t.user=d.user.value||"",sessionStorage.setItem("github-apikey",d.apikey.value||""),t.repo=d.repo.value||"",t.branch=d.branch.value||"gh-pages",p.raise(),f.github_path=d.path.value||"",f.raise(),d.callback&&d.callback(t.user&&t.repo&&t.branch&&f.github_path&&d.apikey.value)}),d.Cancel.listen("click",function(){$(d.element).modal("hide"),d.callback&&d.callback(!1)})),d.user.value=i,d.apikey.value=c,d.repo.value=r,d.branch.value=a,d.path.value=s.fileName,d.modeCheckbox.checked=m.fileMode,d.callback=n,$(d.element).modal("show")},this.publish=function(){var t=p.github||(p.github={}),e=new window.github_api({username:t.user,password:sessionStorage.getItem("github-apikey"),auth:"basic"}),n=e.getRepo(t.user,t.repo),o=b.buildHTML(),i=l({fileName:f.github_path}),r=$DOC.cbody.github_modal;if(r.modeCheckbox.checked){var a=x.grabHTML();n.write(t.branch,i.mwFileName,o,"---",function(e){e?console.log(e):setTimeout(function(){n.write(t.branch,i.fileName,a,"---",function(e){e?setTimeout(function(){n.write(t.branch,i.fileName,a,"---",function(t){t?console.log(t):$(r&&r.element).modal("hide")})},3e3):$(r&&r.element).modal("hide")})},3e3)})}else n.write(t.branch,i.fileName,o,"---",function(e){e?console.log(e):setTimeout(function(){n.removeFile(t.branch,i.mwFileName,function(e){e&&404!==e?setTimeout(function(){n.removeFile(t.branch,i.mwFileName,function(t){t&&404!==t?console.log(t):$(r&&r.element).modal("hide")})},3e3):$(r&&r.element).modal("hide")})},3e3)})}}function l(t){var e=t.fileName,n=t.mwFileName;return e?".html"!==e.slice(-5)?(t.fileName+=".html",l(t)):(".mw.html"===e.slice(-8)?(e=e.slice(0,e.length-8),n=e+".mw.html",e+=".html"):n=e.slice(0,e.length-5)+".mw.html",t.fileName=e,t.mwFileName=n,t):t}function c(){this.environment=0,this.writable=0,this.errorState=-1,this.mwHtml="",this.fileMode=0;var t=location.url,e=t.lastIndexOf("/"),n=t.lastIndexOf("\\\\");e=n>e?n:e,this.path=t.slice(0,e+1),this.fileName=t.slice(e+1),l(this);var o=this;if("undefined"!=typeof nwDispatcher&&"file:"===location.protocol){this.environment=1,this.writable=!0;var i=require("fs"),r=this.path.slice(8)+this.mwFileName,a=this.path.slice(8)+this.fileName;try{i.existsSync(r)?(this.fileMode=1,this.mwHtml=i.readFileSync(r).toString().replace(/\\r/g,"")):this.mwHtml=i.readFileSync(a).toString().replace(/\\r/g,""),this.errorState=0}catch(s){this.errorState=1}this.write=function(t,e){if(this.writable&&!this.errorState)try{if(this.fileMode)i.writeFileSync(r,t),i.writeFileSync(a,e);else{i.writeFileSync(a,t);try{i.unlinkSync(r)}catch(n){}}return a}catch(n){console.log(n)}},this.writeTo=function(t,e,n){if(this.writable&&!this.errorState)try{var o=l({fileName:t}),r=this.path.slice(8)+o.mwFileName,a=this.path.slice(8)+o.fileName;if(this.fileMode)i.writeFileSync(r,e),i.writeFileSync(a,n);else{i.writeFileSync(a,e);try{i.unlinkSync(r)}catch(s){}}return a}catch(s){console.log(s)}}}else{"file:"===location.protocol&&(this.errorState=1);var c=this;$.ajax({url:o.path+o.mwFileName,type:"GET",dataType:"html",async:0}).done(function(t){c.mwHtml=t.replace(/\\r/g,""),c.fileMode=1}).fail(function(){$.ajax({url:o.path+o.fileName,type:"GET",dataType:"html",async:0}).done(function(t){c.mwHtml=t.replace(/\\r/g,"")}).fail(function(){this.errorState=1})})}}function d(t,e){function n(){u(\'<h4><b class="glyphicon glyphicon-warning-sign">&nbsp;</b>Editor loading error</h4>Your browser does not supported and can not be used to edit documents. Please use Firefox, Chrome, Opera or Safari.\')}var o,i,r=this;this.errorState=-1;for(var a in t){var s=t[a];s.listen(function(){this.modified=!0})}if(k.push(function(){for(var e in t){var n=t[e];n.modified&&r.write()}}),window.indexedDB){try{var l=window.indexedDB.open("markdown-webdocs.editor.db.1",1);l.onsuccess=function(t){o=t.target.result,e()},l.onupgradeneeded=function(n){o=n.target.result;for(var i in t)o.createObjectStore(i,{keyPath:"key"});e()},l.onerror=function(t){u(\'<h4><b class="glyphicon glyphicon-warning-sign">&nbsp;</b>Editor loading error</h4>Database error. Please try using another browser for editing the document.\'),console.log(t)},l.onblocked=function(t){u(\'<h4><b class="glyphicon glyphicon-warning-sign">&nbsp;</b>Editor loading error</h4>Database blocked\'),console.log(t)}}catch(c){return void n()}r.restore=function(e){try{var n=o.transaction(Object.keys(t),"readonly"),i=0,a=0;for(var s in t){var l=t[s],c=n.objectStore(s).get(l.key);i++,c.onsuccess=function(n){l=t[n.target.source.name],l.fromJSON(n.target.result),l.modified=!1,a++,a===i&&(r.errorState=0,e&&e())},c.onerror=function(t){console.log(t),this.errorState=1}}}catch(d){console.log(d),this.errorState=1}},r.write=function(){if(!this.errorState)try{var e=o.transaction(Object.keys(t),"readwrite");for(var n in t){var i=t[n];if(i.modified){var r=e.objectStore(n);if(i.delete)delete i.delete,r.delete(i.key);else{var a=r.put(i.toJSON());a.onsuccess=function(){},a.onerror=function(t){console.log(t)}}i.modified=!1,i.selected&&localStorage&&localStorage.setItem("default selected page",i.selected)}}}catch(s){console.log(s)}}}else{if(!window.openDatabase)return void n();try{if(i=window.openDatabase("markdown-webdocs.editor.db.1","1.0","markdow webdocs editor",0),!i)return void n();i.transaction(function(e){for(var o in t)e.executeSql("CREATE TABLE IF NOT EXISTS "+o+" (key TEXT NOT NULL PRIMARY KEY, value TEXT)",[],null,n)},n,e)}catch(c){return void n()}r.restore=function(e){try{i.transaction(function(n){var o=0,i=0;for(var a in t){var s=t[a];n.executeSql("SELECT value FROM "+a+" WHERE key = ? LIMIT 1",[s.key],function(t,n){if(n.rows.length){try{s.fromJSON(JSON.parse(n.rows.item(0).value))}catch(a){s.fromJSON({})}s.modified=!1}i++,i===o&&(r.errorState=0,e&&e())},function(t){console.log(t)})}},function(){console.log(event)},function(){})}catch(n){}},r.write=function(){if(!errorState)try{i.transaction(function(e){for(var n in t){var o=t[n];o.delete?(delete o.delete,e.executeSql("DELETE FROM "+n+" WHERE key = ?",[o.key],function(){},function(t){console.log(t)})):e.executeSql("INSERT OR REPLACE INTO "+n+" (key, value) VALUES (?, ?)",[o.key,JSON.stringify(o)],function(){},function(t){console.log(t)})}},function(){console.log(event)},function(){}),modified=!1}catch(e){console.log(e)}}}r.onReady=function(t){setTimeout(function(){t()},400)}}function u(t){$DOC.cbody.attachAll().add("div",{style:"position:fixed; left:0; top:0; width:100%; height:100%; background-color:white; opacity:0.9; z-index:1201;"}).createElement(),$DOC.cbody.add("alert:div`mar20 alert alert-warning col1-sm-offset-3 col-sm-6 position:fixed; left:25px; top:25px; z-index:1202;",t).createElement()}var h,f,p,m,b,g,v,w,y,T,S,x,O,k=[],C=[];$(window).load(function(){location.url=decodeURI(location.href.split("?")[0]),f=controls.create("DataObject"),f.key=location.url,f.fromJSON=function(t){this.selected=t&&t.selected,this.sourceMw=t&&t.sourceMw,this.editMw=t&&t.editMw,this.history=t&&t.history,this.github_path=t&&t.github_path,Array.isArray(this.history)||(this.history=[])},f.toJSON=function(){return{key:this.key,selected:this.selected,sourceMw:this.sourceMw,editMw:this.editMw,history:this.history,github_path:this.github_path}},p=controls.create("DataObject");var e=document.createElement("script");e.setAttribute("src",$DOC.root),p.key=e.src.split("?")[0],p.fromJSON=function(t){this.github=t&&t.github},p.toJSON=function(){return{key:this.key,github:this.github}},h=new d({drafts:f,settings:p},function(){h.restore(t)})}),r.prototype=controls.create("DataObject")}window.top!==window.self||window["mw-document-editor"]||(window["mw-document-editor"]=!0,"undefined"!=typeof $ENV?t():(window.defercqueue||(window.defercqueue=[])).push(t))}(),function(){function t(t){var e,n,o,i,r,a,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",d=0;do e=t.charCodeAt(d++),n=t.charCodeAt(d++),o=t.charCodeAt(d++),i=e>>2,r=(3&e)<<4|n>>4,a=(15&n)<<2|o>>6,s=63&o,isNaN(n)?a=s=64:isNaN(o)&&(s=64),c=c+l.charAt(i)+l.charAt(r)+l.charAt(a)+l.charAt(s);while(d<t.length);return c}var e="https://api.github.com",n=function(o){function i(n,i,r,a,s,l){function c(){var t=i.indexOf("//")>=0?i:e+i;return t+(/\\?/.test(t)?"&":"?")+(new Date).getTime()}var d=new XMLHttpRequest;return s||(d.dataType="json"),d.open(n,c(),!l),l||(d.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<300||304===this.status?a(null,s?this.responseText:this.responseText?JSON.parse(this.responseText):!0,this):a({path:i,request:this,error:this.status}))}),d.setRequestHeader("Accept","application/vnd.github.raw+json"),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),(o.token||o.username&&o.password)&&d.setRequestHeader("Authorization",o.token?"token "+o.token:"Basic "+t(o.username+":"+o.password)),r?d.send(JSON.stringify(r)):d.send(),l?d.response:void 0}function r(t,e){var n=[];!function o(){i("GET",t,null,function(i,r,a){if(i)return e(i);n.push.apply(n,r);var s=(a.getResponseHeader("link")||"").split(/\\s*,\\s*/g),l=_.find(s,function(t){return/rel="next"/.test(t)});l&&(l=(/<(.*)>/.exec(l)||[])[1]),l?(t=l,o()):e(i,n)})}()}n.User=function(){this.repos=function(t){r("/user/repos?type=all&per_page=1000&sort=updated",function(e,n){t(e,n)})},this.userRepos=function(t,e){r("/users/"+t+"/repos?type=all&per_page=1000&sort=updated",function(t,n){e(t,n)})},this.orgRepos=function(t,e){r("/orgs/"+t+"/repos?type=all&&page_num=1000&sort=updated&direction=desc",function(t,n){e(t,n)})}},n.Repository=function(t){function e(t,e){return t===s.branch&&s.sha?e(null,s.sha):void r.getRef("heads/"+t,function(n,o){s.branch=t,s.sha=o,e(n,o)})}var n=t.name,o=t.user,r=this,a="/repos/"+o+"/"+n,s={branch:null,sha:null};this.getRef=function(t,e){i("GET",a+"/git/refs/"+t,null,function(t,n){return t?e(t):void e(null,n.object.sha)})},this.createRef=function(t,e){i("POST",a+"/git/refs",t,e)},this.deleteRef=function(e,n){i("DELETE",a+"/git/refs/"+e,t,n)},this.compare=function(t,e,n){i("GET",a+"/compare/"+t+"..."+e,null,function(t,e){return t?n(t):void n(null,e)})},this.listBranches=function(t){i("GET",a+"/git/refs/heads",null,function(e,n){return e?t(e):void t(null,_.map(n,function(t){return _.last(t.ref.split("/"))}))})},this.getBlob=function(t,e){i("GET",a+"/git/blobs/"+t,null,e,"raw")},this.getSha=function(t,e,n){return""===e?r.getRef("heads/"+t,n):void r.getTree(t+"?recursive=true",function(t,o){if(t)return n(t);var i=_.select(o,function(t){return t.path===e})[0];n(null,i?i.sha:null)})},this.getTree=function(t,e){i("GET",a+"/git/trees/"+t,null,function(t,n){return t?e(t):void e(null,n.tree)})},this.postBlob=function(t,e){"string"==typeof t&&(t={content:t,encoding:"utf-8"}),i("POST",a+"/git/blobs",t,function(t,n){return t?e(t):void e(null,n.sha)})},this.updateTree=function(t,e,n,o){var r={base_tree:t,tree:[{path:e,mode:"100644",type:"blob",sha:n}]};i("POST",a+"/git/trees",r,function(t,e){return t?o(t):void o(null,e.sha)})},this.postTree=function(t,e){i("POST",a+"/git/trees",{tree:t},function(t,n){return t?e(t):void e(null,n.sha)})},this.commit=function(e,n,o,r){var l={message:o,author:{name:t.username},parents:[e],tree:n};i("POST",a+"/git/commits",l,function(t,e){return s.sha=e&&e.sha,t?r(t):void r(null,e&&e.sha)})},this.updateHead=function(t,e,n){i("PATCH",a+"/git/refs/heads/"+t,{sha:e},function(t){n(t)})},this.show=function(t){i("GET",a,null,t)},this.contents=function(t,e,n,o){return i("GET",a+"/contents?ref="+t+(e?"&path="+e:""),null,n,"raw",o)},this.fork=function(t){i("POST",a+"/forks",null,t)},this.branch=function(t,e,n){2===arguments.length&&"function"==typeof arguments[1]&&(n=e,e=t,t="master"),this.getRef("heads/"+t,function(t,o){return t&&n?n(t):void r.createRef({ref:"refs/heads/"+e,sha:o},n)})},this.createPullRequest=function(t,e){i("POST",a+"/pulls",t,e)},this.listHooks=function(t){i("GET",a+"/hooks",null,t)},this.getHook=function(t,e){i("GET",a+"/hooks/"+t,null,e)},this.createHook=function(t,e){i("POST",a+"/hooks",t,e)},this.editHook=function(t,e,n){i("PATCH",a+"/hooks/"+t,e,n)},this.deleteHook=function(t,e){i("DELETE",a+"/hooks/"+t,null,e)},this.read=function(t,e,n){r.getSha(t,e,function(t,e){return e?void r.getBlob(e,function(t,o){n(t,o,e)}):n("not found",null)})},this.remove=function(t,n,o){e(t,function(e,i){r.getTree(i+"?recursive=true",function(e,a){var s=a.filter(function(t){return t.path!==n});s.forEach(function(t){"tree"===t.type&&delete t.sha}),a.length===s.length&&o(404),r.postTree(s,function(e,a){r.commit(i,a,"Deleted "+n,function(e,n){r.updateHead(t,n,function(t){o(t)})})})})})},this.removeFile=function(t,n,o){e(t,function(e,s){r.getTree(s+"?recursive=true",function(e,r){r&&r.some(function(e){if(e.path===n&&"blob"===e.type){var r={path:e.path,message:"---",sha:e.sha,branch:t};return i("DELETE",a+"/contents/"+n,r,function(t,e){return t?o(t):void o(null,e.sha)}),!0}})||o(null)})})},this.move=function(t,n,o,i){e(t,function(e,a){r.getTree(a+"?recursive=true",function(e,s){_.each(s,function(t){t.path===n&&(t.path=o),"tree"===t.type&&delete t.sha}),r.postTree(s,function(e,o){r.commit(a,o,"Deleted "+n,function(e,n){r.updateHead(t,n,function(t){i(t)})})})})})},this.write=function(t,n,o,i,a){e(t,function(e,s){return e?a(e):void r.postBlob(o,function(e,o){return e?a(e):void r.updateTree(s,n,o,function(e,n){return e?a(e):void r.commit(s,n,i,function(e,n){return e?a(e):void r.updateHead(t,n,a)})})})})},this.getCommits=function(t,e){t=t||{};var n=a+"/commits",o=[];if(t.sha&&o.push("sha="+encodeURIComponent(t.sha)),t.path&&o.push("path="+encodeURIComponent(t.path)),t.since){var r=t.since;r.constructor===Date&&(r=r.toISOString()),o.push("since="+encodeURIComponent(r))}if(t.until){var s=t.until;s.constructor===Date&&(s=s.toISOString()),o.push("until="+encodeURIComponent(s))}o.length>0&&(n+="?"+o.join("&")),i("GET",n,null,e)}},this.getRepo=function(t,e){return new n.Repository({user:t,name:e})},this.getUser=function(){return new n.User}};window.github_api=n}();'),window.addEventListener("keydown",function(t){if(123===t.keyCode&&!t.altKey&&t.ctrlKey)if($OPT.edit_mode){var e=location.href,n=e.indexOf("?edit");
0>n&&(n=e.indexOf("&edit")),n>=0&&(window.location=e.slice(0,n)+e.slice(n+5))}else window.location=(window.location.protocol||"")+"//"+window.location.host+window.location.pathname+"?"+window.location.search+(window.location.search?"&edit":"edit")}))}(),function(){"use strict";function t(){function t(t,e){var n=controls.createBase("dl",t,e);return n.text=function(t){for(var e=(t||"").split(/^--(.*)/m),n=1,i=e.length;i>n;n+=2)this.add("dt",e[n]),this.add("dd",e[n+1])},n.text(e.$text),delete e.$text,n}controls.factoryRegister("defl",t)}"undefined"!=typeof $ENV?t():(window.defercqueue||(window.defercqueue=[])).push(t)}(),function(){"use strict";function t(){function t(t,e){function n(t){for(;t.parentElement;)t=t.parentElement,"LI"===t.tagName&&t.classList.add("active")}e.role="navigation",this.initialize("controls.navbar",t,e,$ENV.getDefaultTemplate("nav"),$ENV.getDefaultTemplate()).class("navbar navbar-default");var i=(this.text()||"").split(/^\*\*\*/m);this.text(""),this.add("header:div`navbar-header").template(function(t){return"<div"+t.printAttributes()+'><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>'+$ENV.marked((t.attributes.$text||"")+t.controls.map(function(t){return t.wrappedHTML()}).join("")).replace(/<a href/gi,'<a class="navbar-brand" href')+"</div>"}),i.length>1&&$DOC.processContent(this.header,i[0]),this.add("collapse:div`collapse navbar-collapse navbar-ex1-collapse").template($ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate()),$DOC.processContent(this.collapse,i.slice(-1)[0]),this.applyElement=function(){var t=this._element;if(t){for(var e=t.querySelectorAll(".navbar-collapse > ul"),i=0,r=e.length;r>i;i++){var o=e[i],a=o.classList;a.add("nav"),a.add("navbar-nav")}for(var s=t.querySelectorAll("ul ul"),l=0,c=s.length;c>l;l++){var d=s[l];d.classList.add("dropdown-menu");var u=d.parentElement;u.classList.add("dropdown");var p=u.getElementsByTagName("a")[0];p&&(p.classList.add("dropdown-toggle"),p.setAttribute("data-toggle","dropdown"),p.setAttribute("href","#"),p.innerHTML.indexOf('<b class="caret"></b>')<=0&&p.insertAdjacentHTML("beforeend",'<b class="caret"></b>'))}for(var h=window.location.href.toLowerCase().replace(/(^.*:)|(\/index.htm$)|(\/index.html$)|(#$)/g,""),f=h.split("/"),m=t.querySelectorAll('a:not([href="#"])'),g=0,b=m.length;b>g;g++){var v=m[g],y=v.href.toLowerCase().replace(/(^.*:)|(\/index.htm$)|(\/index.html$)|(#$)/g,"");if(y===h)n(v);else{for(var x=y.split("/"),w=!0,_=0,O=x.length;O>_&&w;_++)x[_]!==f[_]&&(w=!1);w&&n(v)}}}},this.listen("element",function(){this.applyElement()})}t.prototype=controls.control_prototype,controls.typeRegister("navbar",t)}"undefined"!=typeof $ENV?t():(window.defercqueue||(window.defercqueue=[])).push(t)}(),function(){"use strict";function t(){function t(t,e,n){var i=controls.createBase(t,e,n);e=i.parameters;var r=i.attributes.style||"",o="";for(var a in e)"origin"===a||"transform-origin"===a?r+="transform-origin:"+e.origin+";-webkit-transform-origin:"+e.origin+";-moz-transform-origin:"+e.origin+";":h.indexOf(a.trim())>=0?(o&&(o+=" "),o+=a+"("+e[a]+")"):"$"!==a[0]&&(r+=a+":"+e[a]+";");return o&&(r&&";"!==r.slice(-1)&&(r+=";"),r+="transform:"+o+";-webkit-transform:"+o+";-moz-transform:"+o+";"),r&&(i.attributes.style=r),i}function e(t){var e=t.attributes.$text;e&&($DOC.processContent(t,e),t.attributes.$text=void 0)}function n(n,i){var r=t("div",n,i);return r.template($ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate()),e(r),r}function i(t,e){var i=n(t,e);return i.style("display:inline-block;"+i.style()),i}function r(t){return"<span"+t.printAttributes()+">"+$ENV.marked((t.attributes.$text||"")+t.controls.map(function(t){return t.wrappedHTML()}).join(""))+"</span>"}function o(n,i){var o=t("span",n,i);return o.template(r,$ENV.default_inner_template),e(o),o}function a(t,e){var n=$DOC.components_off;$DOC.components_off=!0;var i=controls.createBase("container",t,e);return $DOC.components_off=n,i}function s(t,n){var i=controls.createBase("container",t,n);return i.template(l,l),e(i),i}function l(t){return controls.encodeHTML((t.attributes.$text||"")+t.controls.map(function(t){return t.wrappedHTML()}).join(""))}function c(t,n){var i=controls.createBase("container",t,n);return i.template(d,d),e(i),i}function d(t){return controls.decodeHTML((t.attributes.$text||"")+t.controls.map(function(t){return t.wrappedHTML()}).join(""))}function u(t,n){var i=controls.createBase("container",t,n);return i.template(p,p),e(i),i}function p(t){return"<span>"+controls.encodeHTML((t.attributes.$text||"")+t.controls.map(function(t){return t.wrappedHTML()}).join(""))+"</span>"}var h=",matrix,translate,translateX,translateY,scale,scaleX,scaleY,rotate,skewX,skewY,matrix3d,translate3d,translateZ,scale3d,scaleZ,rotate3d,rotateX,rotateY,rotateZ,perspective,";controls.factoryRegister("block",n),controls.factoryRegister("iblock",i),controls.factoryRegister("text",o),controls.factoryRegister("off",a),controls.factoryRegister("encode",s),controls.factoryRegister("decode",c),controls.factoryRegister("escape",u)}"undefined"!=typeof $ENV?t():(window.defercqueue||(window.defercqueue=[])).push(t)}(),function(){"use strict";function t(){function t(t,e){var n=controls.createBase("bootstrap.Panel",t,e),i=n.body;return $DOC.processContent(i,i.attributes.$text),delete i.attributes.$text,i.template($ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate()),n}function e(t,e){var n=t.collapse||t.collapsed,i=t.header,r=this.initialize("collapse",t,e,$ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate())._class("collapse-panel panel panel-"+this.getControlStyle())._add("header:div",{"class":"panel-heading collapse-header","data-toggle":"collapse",$text:'<a href="#" class="panel-title">'+(i||"")+"</a>"}).add("collapse:div",{"class":"panel-collapse collapse collapse-body"+(n?"":" in")}).add("body:div",{"class":"panel-body"});this.header.attributes["data-target"]="#"+this.collapse.id,r.template($ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate()),$DOC.processContent(r,this.text()),this.text("")}function n(t,e){this.initialize("alert",t,e,$ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate()).class("alert alert-"+this.getControlStyle()+" fade in");var n=this.text();this.text(""),$DOC.processContent(this,n)}function i(t,e){this.initialize("well",t,e,$ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate()).class("well");var n=this.getControlSize();"small"===n?this.class("well-sm"):"large"===n&&this.class("well-lg");var i=this.text();this.text(""),$DOC.processContent(this,i)}var r=controls.bootstrap;controls.factoryRegister("panel",t),e.prototype=r.control_prototype,controls.typeRegister("collapse",e),n.prototype=r.control_prototype,controls.typeRegister("alert",n),i.prototype=r.control_prototype,controls.typeRegister("well",i)}"undefined"!=typeof $ENV?t():(window.defercqueue||(window.defercqueue=[])).push(t)}(),function(){"use strict";function t(){function t(t,e){this.initialize("controls.tabpanel",t,e).class("tabpanel");var n=this.add("header:bootstrap.TabPanelHeader"),i=this.add("body:bootstrap.TabPanelBody`panel-body");$DOC.processContent(i,e.$text),e.$text="";var r=!1;i.each(function(t){if("bootstrap.TabPage"===t.__type){var e=n.add("bootstrap.TabHeader",{$href:"#"+t.id,$text:t.parameter("header")});t.parameters.active&&(r=!0,e.class("active"),t.class("active in"))}}),!r&&n.length&&(n.first.class("active"),i.first.class("active in"))}function e(t,e){var n=controls.createBase("bootstrap.TabPage",t,e),i=n.attributes.$text;return n.attributes.$text="",$DOC.processContent(n,i),n.template($ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate()),n}t.prototype=controls.control_prototype,controls.typeRegister("tabpanel",t),controls.factoryRegister("tabpage",e)}"undefined"!=typeof $ENV?t():(window.defercqueue||(window.defercqueue=[])).push(t)}(),function(){"use strict";function t(){function t(t,e){function n(){r=[];var t=$DOC.cbody;$DOC.columns.forEach(function(e){var n=t[e];if(n){var i=n._element;(!i||i&&$(i).is(":visible"))&&r.push(e)}});var e=r.join(",");if(e!==o){o=e;for(var n="",i=0,l=r.length;l>i;i++)i<p.length&&(n+="."+r[i]+"{width:"+p[i]+";",0===i?n+="padding-left:"+s+";":i===l-1&&(n+="padding-right:"+s+";"),n+="}");a[1]=n,this.refresh()}}controls.controlInitialize(this,"page-layout",t,e);var i=this.parameter("media"),r=[],o="",a=[],s=this.parameter("padding");switch(this.parameter("scheme")){case"centered":s=s||"16px";var l=this.parameter("width")||"90%",c=this.parameter("min-width")||l,d=this.parameter("max-width")||l,u="";l&&(u+="width:"+l+";"),c&&(u+="min-width:"+c+";"),d&&(u+="max-width:"+d+";"),a.push(i?"@media ("+i+"){":""),a.push("",this.text(),"body{margin:0 auto;",u,"}.header-bar, .header-panel, .footer-bar, .footer-panel { padding-left:"+s+"; padding-right:"+s+"; }.left-side-panel, .left-side-bar, .content-panel, .content-bar, .right-side-panel , .right-side-bar { display: inline-block; }"),i&&a.push("}")}var p=this.parameter("columns");if(p){p=p.split(",");var h=n.bind(this);$(window).on("resize",h),$DOC.onload(h)}this.template(function(t){return"<style"+t.printAttributes()+">"+a.join("")+"</style>"})}t.prototype=controls.control_prototype,controls.typeRegister("page-layout",t)}"undefined"!=typeof $ENV?t():(window.defercqueue||(window.defercqueue=[])).push(t)}(),function(){"use strict";function t(){function t(t,e){this.initialize("footer-layout",t,e,$ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate());this.parameter("media"),this.parameter("padding"),this.parameter("scheme")||"line";switch($DOC.processContent(this,this.text()),this.text(""),this.parameter("scheme")){case"line":this.listen("element",function(){this.lineParseDOM()}),$DOC.appendCSS("controls.footer-layout.line",".cfl-line-container { margin:0; padding:0; float:left; }.cfl-line-container > li { line-height:32px; list-style:none; float:left; padding:12px 24px 12px 0px; }.cfl-line-item { line-height:32px; list-style:none; float:left; padding:12px 24px 12px 0px; }.cfl-line-container:last-child, .cfl-line-item:last-child { float:right; padding-right:0; }.cfl-line-container:first-child, .cfl-line-item:first-child { float:left; }"),this.lineParseDOM=function(){var t=this._element;if(t)for(var e=t.childNodes,n=e.length-1;n>=0;n--){var i=e[n];if(1===i.nodeType){var r=i.tagName.toUpperCase();switch(r){case"UL":$(i).addClass("cfl-line-container");break;case"HR":t.removeChild(i);break;default:$(i).addClass("cfl-line-item")}}}}}}t.prototype=controls.control_prototype,controls.typeRegister("footer-layout",t)}"undefined"!=typeof $ENV?t():(window.defercqueue||(window.defercqueue=[])).push(t)}(),function(){"use strict";function t(t){var e=t.parameters["#{__type}"].split("."),n=d[e];n||(n=[],d[e]=n),n.push(t);var i=$DOC.components+e[0]+"/"+e[1]+"/"+e[0]+"."+e[1]+".js",r=document.head,o=$(r).children('script[src*="'+i+'"]:first')[0];if(!o){var o=controls.extend(document.createElement("script"),{src:i,async:!0});o.addEventListener("load",function(){d[e].forEach(function(t){t.state=1}),d[e]=[]}),o.addEventListener("error",function(){d[e].forEach(function(t){t.state=-1}),d[e]=[]}),r.appendChild(o)}}function e(t,e){var n,i=/("[\s\S]*?")|(\[[^\[\]\n]*?\]\([^\(\)\n]*?\))/g,r=[];for(i.lastIndex=e;n=i.exec(t);)r.push({index:n.index,lastIndex:i.lastIndex});return r}function n(n,i){var r=($DOC.sections,$OPT.edit_mode);if(r)for(var o in $DOC.sections){var a=$DOC.sections[o];"object"==typeof a&&a.deleteAll&&a.source_node===n&&a.deleteAll()}var s,l,c=arguments.length>1?i:n.nodeValue,d=c[0],u=document.body;if(' \n	`@$&*#(){}-%^~"|/\\'.indexOf(d)<0)try{if("["===d)for(var p=e(c,1),h=0,f=p.length,m=!1,g=c.indexOf("]",1);!m&&g>=0;){for(;f>h&&p[h].lastIndex<g;)h+=2;if(h>=f||g<p[h].index||g>=p[h].lastIndex){m=!0;var b=c.slice(1,g),v=c.slice(g+1);s=controls.createOrStub(b,v)}g++,g=c.indexOf("]",g)}else if("!"===d){$DOC.removeSection(c.slice(1));var y=n.parentNode;y&&y.removeChild(n)}else{var x=c.indexOf(" "),w=c.indexOf("\n"),_=c.indexOf("->");if(0>x&&0>w&&0>_)$DOC.sectionPlaceholder(c,n);else if(0>x&&_>0)$DOC.sectionMover(n,c.slice(0,_),c.slice(_+2));else if(w>0&&(0>x||x>w)&&(x=w),x>0&&128>x){l=c.slice(0,x);var O=c.slice(x+1);s=controls.create("div",{"class":l}),s.name=l,$DOC.addSection(l,s),s.template($ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate()),$DOC.processContent(s,O)}}if(s){if(s.createElement(n,2),2===r)s.source_node=n,s.source_section=l;else{var y=n.parentNode;y&&y.removeChild(n)}s._element&&s._element.parentNode===u&&$DOC.cbody.add(s),s.isStub&&new t(s),$DOC.events.section.raise(l,s,n)}}catch($){console.log($)}}function i(t,e){var i=document.head,r=document.body;if(t||r){for(var o=$DOC.sections,a=$DOC.order,s=[],l=document.createNodeIterator(t?i:r,128,null,!1),c=l.nextNode();c;)e.indexOf(c)<0&&(e.push(c),s.push(c)),c=l.nextNode();for(var d=0,u=s.length;u>d;d++)n(s[d]);if(!t){var p=$DOC.cbody;if(!p._element&&r&&p.attachAll(),p._element)for(var h in o)if(h)try{var f,m=o[h];if(m&&m.placeholder&&(f=m.placeholder,m=m.content),"string"==typeof m){var g=p.add("div",{"class":h});g.name=h,g.template($ENV.getDefaultTemplate("div"),$ENV.getDefaultTemplate()),$DOC.processContent(g,m);var b=!1;if(f)g.createElement(f,2),b=!0;else{var v=a.indexOf(h);if(v>=0){for(var d=v+1,u=a.length;u>d;d++){var y=o[a[d]];if(y&&"string"!=typeof y){g.createElement(y.element,2),b=!0;break}}if(!b)for(var d=v-1;d>=0;d--){var x=o[a[d]];if(x&&"string"!=typeof x){x.source_node?g.createElement(x.source_node,3):g.createElement(x.element,3),b=!0;break}}}}b||g.createElement(document.body,0),o[h]=g}}catch(w){console.log(w)}}}}function r(t,e){if(e){var n=e.element;if(n)$(n).find("table").addClass("table table-bordered table-stripped");else for(var i in e.controls)$(e.controls[i].element).find("table").addClass("table table-bordered table-stripped")}}function o(){function t(t,e){var n=document.querySelector(t);return n?n[e]:0}var e=0,n=0,i=0,r=0;e+=t(".fixed-top-bar","clientHeight"),e+=t(".fixed-top-panel","clientHeight"),n+=t(".fixed-right-side-bar","clientWidth"),n+=t(".fixed-right-side-panel","clientWidth"),i+=t(".fixed-bottom-bar","clientHeight"),i+=t(".fixed-bottom-panel","clientHeight"),r+=t(".fixed-left-side-bar","clientWidth"),r+=t(".fixed-left-side-panel","clientWidth"),$DOC.appendCSS("document#onresize","body{padding: "+e+"px "+n+"px "+i+"px "+r+"px;}")}if(!$DOC.state){if(window.defercqueue){var a=window.defercqueue;delete window.defercqueue;for(var s=0,l=a.length;l>s;s++)try{a[s]()}catch(c){console.log(c)}}$DOC.loadUserJS();var d={},u=function(t){return t.getText()+t.controls.map(function(t){return t.wrappedHTML()}).join("")};$DOC.addTextContainer=function(t,e){var n=t.add("container",e),i=e.indexOf("{{");i>=0&&e.indexOf("}}")>i&&(n.getText=controls.template(e),n.template(u))},$DOC.processContent=function(n,i){function r(){for(var t,e,n=0,r=[],o=0,a=i.indexOf("[");a>=0;){for(;f>p&&u[p].lastIndex<a;)p++;if(p>=f||a<u[p].index||a>=u[p].lastIndex)for(var s=!1,l=i.indexOf("]",a+1);!s&&l>=0;){for(;f>h&&u[h].lastIndex<l;)h++;if(h>=f||l<u[h].index||l>=u[h].lastIndex){var c="/"===i.charAt(l-1),d="/"===i.charAt(a+1);if(d){for(var g=i.slice(a+2,l),o=-1,b=r.length-1;b>=0;b--)if(r[b].type===g){o=b;break}0===o?(t>n&&m.push(i.slice(n,t)),n=l+1,m.push([c,t,e,a,l-a+1])):0>o&&(o=0),r.length=o}else if(0===o&&(t=a,e=l-a+1),c)0===o&&(t>n&&m.push(i.slice(n,t)),n=l+1,m.push([c,t,e,t,e-1]));else{var v=i.slice(a+1,l),y=v.match(/\S+?(?=#|@|\/|`|\s|$)/)[0].split(":"),x=y.pop();r.push({type:x,index:a,lastIndex:l+1}),o++}s=!0}l=i.indexOf("]",++l)}a=i.indexOf("[",++a)}return n<i.length&&m.push(i.slice(n)),r}function o(e,r,o,a){var s=e?i.substr(r+1,o-3):i.substr(r+1,o-2);try{var l=n.addOrStub(s,i.slice(r+o,a));l.isStub&&(l.listen("control",function(t){var e=$DOC.events.component;e&&e.raise(t)}),new t(l));var c=$DOC.events.component;c&&c.raise(l)}catch(d){console.log(d)}}if(i){if(this.components_off)return void this.addTextContainer(n,i);for(var a=this.filters,s=0,l=a.length;l>s;s++){var c=a[s];i=i.replace(c.regex,c)}for(var d,u=e(i,0),p=0,h=0,f=u.length,m=[];(d=r()).length;)u.push.apply(u,d),u.sort(function(t,e){return t.index-e.index}),p=0,h=0,f=u.length,m=[];for(var s=0,l=m.length;l>s;s++){var g=m[s];"string"==typeof g?this.addTextContainer(n,g):o.apply(this,g)}}},$DOC.processTextNode=n,$DOC.finalTransformation=function(){if(!$DOC.state){$DOC.state=1,$DOC.cbody.attach(),$DOC.listen("section",r);var t=[];if($DOC.mode){var e=setInterval(function(){o()},25);$DOC.onready(function(){$DOC.cbody.attachAll(),o(),$(window).on("resize",o)});var n=function(){if(window.removeEventListener("load",n),!($DOC.state>1)){$DOC.state=2,clearInterval(e);var t=$DOC.forceEvent("load");t.raise(),t.clear(),o(),setTimeout(o,200)}};"complete"===document.readyState?n():window.addEventListener("load",n)}else if(1!==$OPT.edit_mode){var e=setInterval(function(){i(!1,t),o()},25);$DOC.onready(function(){i(!0,t),i(!1,t),o(),$(window).on("resize",o)});var n=function(){if(window.removeEventListener("load",n),clearInterval(e),!($DOC.state>1)){if(i(!1,t),$DOC.state=2,window.location.hash){window.location=window.location;var r=parseInt(window.getComputedStyle(document.body).paddingTop);r&&window.scrollBy(0,-r)}var a=$DOC.forceEvent("load");a.raise(),a.clear(),o(),setTimeout(o,200)}};"complete"===document.readyState?n():window.addEventListener("load",n)}else{var a=$DOC.forceEvent("load");a.raise(),a.clear()}}},$DOC.onready(function(){$DOC.checkAllScriptsReady()})}}();